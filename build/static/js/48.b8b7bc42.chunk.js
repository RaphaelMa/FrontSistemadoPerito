(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[48],{764:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(736),c=n(693),o=n(91),l=n(11),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},d=n(148),u=function(e,t){return a.createElement(d.a,Object.assign({},e,{ref:t,icon:s}))};u.displayName="LockOutlined";var m=a.forwardRef(u),p=i.a.TabPane,f=c.a.Link,b=function(e){var t=e.id,n=e.activePage,a=void 0===n?"process":n,c=Object(l.h)();return r.a.createElement(i.a,{defaultActiveKey:a,centered:!0,onTabClick:function(e){c("process"!==e?"/process/".concat(t,"/").concat(e):"/process/".concat(t))}},r.a.createElement(p,{tab:r.a.createElement(f,null,"Processo"),key:"process"}),r.a.createElement(p,{tab:r.a.createElement(o.a,{placement:"bottom",title:"Em breve no sistema"},r.a.createElement("span",null,"Documentos ",r.a.createElement(m,null))),key:"document",disabled:!0}),r.a.createElement(p,{tab:r.a.createElement(f,null,"Financeiro"),key:"financial"}),r.a.createElement(p,{tab:r.a.createElement(f,null,"Tarefas"),key:"tasks"}),r.a.createElement(p,{tab:r.a.createElement(f,null,"Hist\xf3rico"),key:"history"}))};b.displayName="MenuTop";t.a=Object(a.memo)(b)},805:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(891),c=n(10),o=n(59),l=n.n(o),s=function(){return Object(a.useMemo)((function(){return[{title:"Data",dataIndex:"createAt",key:"createAt",align:"center",width:140,render:function(e){return e?l()(e).utc().format("DD/MM/YYYY HH:mm"):null}},{title:"A\xe7\xe3o",dataIndex:"action",align:"center",render:function(e){return e.action_name}},{title:"M\xf3dulo",dataIndex:"module",align:"center",render:function(e){return e.module_name}},{title:"Usu\xe1rio",dataIndex:"user",ellipsis:!0,render:function(e){return e.user_name}},{title:"Email",dataIndex:"user",ellipsis:!0,render:function(e){return e.user_email}},{title:"A\xe7\xf5es Realizadas",dataIndex:"record",ellipsis:!0,render:function(e){var t,n;return null===(t=e[0])||void 0===t||null===(n=t.description)||void 0===n?void 0:n.replace(/\\n/,"")}}]}),[])},d=function(e){var t,n=e.data,a=e.loading,i=e.divRef,c=s(),o=((null===(t=i.current)||void 0===t?void 0:t.clientHeight)||0)-40;return r.a.createElement(u,{style:{flex:"auto",width:0},className:"header-align-center",columns:c,dataSource:n,loading:a,rowKey:"_id",tableLayout:"fixed",size:"middle",bordered:!0,pagination:{hideOnSinglePage:!0,showTotal:function(e){return"".concat(e," no total")},showSizeChanger:!0,pageSizeOptions:["10","20","40","50","100"]},scroll:{y:o},expandable:{rowExpandable:function(e){return e.record.length>0},expandedRowRender:function(e){return e.record.map((function(e,t){var n;return r.a.createElement(m,{key:t},null===(n=e.description)||void 0===n?void 0:n.split(/\\n|\n/).map((function(t,n){return r.a.createElement("div",{key:"".concat(n,"-").concat(e._id),className:0===n?"first":"extra-info"},t)})))}))}}})};d.displayName="HistoryTable";t.a=Object(a.memo)(d);var u=Object(c.c)(i.a).withConfig({displayName:"HistoryTable__StyledTable",componentId:"p2vbpg-0"})([".ant-table-container,.ant-spin-nested-loading,.ant-table,.ant-spin-container{height:calc(100% - 48px);}.ant-table-thead{th{text-align:center;}}.ant-table-body{height:100%;}"]),m=c.c.p.withConfig({displayName:"HistoryTable__HistoryItem",componentId:"p2vbpg-1"})(["&::before{content:'';display:inline-block;width:7px;height:7px;border-radius:50%;background-color:",";margin-right:5px;}div.first{display:inline;}div.extra-info{display:block;margin-left:20px;}"],(function(e){return e.theme.colors.primary}))},928:function(e,t,n){"use strict";n.r(t);var a=n(37),r=n.n(a),i=n(58),c=n(47),o=n(0),l=n.n(o),s=n(244),d=n(764),u=n(31),m=n(11),p=n(52),f=function(){var e=Object(p.b)({method:"GET"},{manual:!0}),t=Object(c.a)(e,2),n=t[0].loading,a=t[1];return[{loading:n},function(e){return a({url:"/history/module=process/id=".concat(e)})}]},b=n(127),v=n(805),h=n(10),g=function(){var e=Object(o.useState)([]),t=Object(c.a)(e,2),n=t[0],a=t[1],p=Object(u.c)((function(e){var t;return null===(t=e.company)||void 0===t?void 0:t.plan.modules})),h=Object(u.c)((function(e){return e.permissions})),g=Object(m.i)().id,E=f(),k=Object(c.a)(E,2),w=k[0].loading,O=k[1],j=function(){var e=Object(i.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,O(g);case 5:if(t=e.sent,n=t.data){e.next=9;break}return e.abrupt("return");case 9:a(n),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),Object(b.a)("2702211644"),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){j()}),[]);var _=!!g&&(null===h||void 0===h?void 0:h.plan.update)||!g&&(null===h||void 0===h?void 0:h.process.create),H=Object(o.useRef)(null);return l.a.createElement(s.a,{has_module:null===p||void 0===p?void 0:p.Process,has_permission:_},l.a.createElement(y,null,l.a.createElement(d.a,{activePage:"history",id:g}),l.a.createElement(x,{ref:H},l.a.createElement(v.a,{data:n,loading:w,divRef:H}))))};g.displayName="ProcessHistory";t.default=g;var y=h.c.div.withConfig({displayName:"ProcessHistory__ContainerStyled",componentId:"sc-1blaujs-0"})(["overflow-y:hidden;overflow-x:hidden;padding:2rem;height:calc(100% - 2rem);"]),x=h.c.div.withConfig({displayName:"ProcessHistory__TableContainer",componentId:"sc-1blaujs-1"})(["display:flex;margin:0;height:100%;"])}}]);