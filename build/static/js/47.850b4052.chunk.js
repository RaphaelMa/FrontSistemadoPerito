(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[47],{699:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(90),i=a.n(o),c=a(701),l=a(361),d=a(10);t.a=function(e){var t=e||{},a=t.content,n=t.duration,o=void 0===n?1500:n,d=t.onEndDuration,u={loop:!1,autoplay:!0,animationData:c,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}};l.a.success({title:r.a.createElement(i.a,{width:150,height:150,options:u}),icon:null,content:r.a.createElement(s,null,a),centered:!0,okButtonProps:{style:{display:"none"}}}),setTimeout((function(){null===d||void 0===d||d(),l.a.destroyAll()}),o)};var s=d.c.div.withConfig({displayName:"successModal__Content",componentId:"uq8ekf-0"})(["text-align:center;font-size:16px;"])},701:function(e){e.exports=JSON.parse('{"v":"5.6.10","fr":60,"ip":0,"op":60,"w":100,"h":100,"nm":"Icons_Done","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Done","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[50.000000000000014,50.000000000000014,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[25.000000000000007,25.000000000000007,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[-26.667,26.667]],"o":[[13.333,13.333],[0,0],[0,0]],"v":[[-60,0],[-20,40],[60,-40]],"c":false},"ix":2},"nm":"\u041a\u043e\u043d\u0442\u0443\u0440 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.101960784314,0.756862745098,0.482352941176,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":16,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"\u041e\u0431\u0432\u043e\u0434\u043a\u0430 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u041f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u044c"}],"nm":"\u0424\u0438\u0433\u0443\u0440\u0430 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[1],"y":[0]},"t":0,"s":[0]},{"t":60,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"\u041e\u0431\u0440\u0435\u0437\u0430\u0442\u044c \u043a\u043e\u043d\u0442\u0443\u0440\u044b 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Stroke","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[50.000000000000014,18.750000000000007,0],"ix":2},"a":{"a":0,"k":[115,-10,0],"ix":1},"s":{"a":0,"k":[25.000000000000007,25.000000000000007,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[69.036,0],[0,-69.036],[-69.036,0],[0,69.036]],"o":[[-69.036,0],[0,69.036],[69.036,0],[0,-69.036]],"v":[[45,-80],[-80,45],[45,170],[170,45]],"c":true},"ix":2},"nm":"\u041a\u043e\u043d\u0442\u0443\u0440 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.101960784314,0.756862745098,0.482352941176,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":16,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"\u041e\u0431\u0432\u043e\u0434\u043a\u0430 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[114.895,114.598],"ix":2},"a":{"a":0,"k":[44.895,44.598],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u041f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u044c"}],"nm":"\u042d\u043b\u043b\u0438\u043f\u0441 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[1],"y":[0]},"t":0,"s":[0]},{"t":60,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"\u041e\u0431\u0440\u0435\u0437\u0430\u0442\u044c \u043a\u043e\u043d\u0442\u0443\u0440\u044b 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":300,"st":0,"bm":0}],"markers":[]}')},915:function(e,t,a){"use strict";a.r(t);var n=a(37),r=a.n(n),o=a(58),i=a(47),c=a(0),l=a.n(c),d=a(11),s=a(873),u=a(126),m=a(684),p=a(685),x=a(785),b=a(77),k=a(31),f=a(877),h=a.n(f),g=a(686),y=a(52),v=function(e){return Object(y.b)({url:"/documentvariables/type=".concat(e),method:"GET"},{manual:!1})},E=function(e){var t=e.type,a=e.addVariable,n=v(t),r=Object(i.a)(n,1)[0].data||[];return l.a.createElement(g.a,{value:null,style:{width:"100%"},placeholder:"people"===t?"Vari\xe1veis Nome":"Vari\xe1veis Processo",onChange:function(e){return a(e)}},r.map((function(e){return l.a.createElement(g.a.Option,{key:e.key,value:e.key},e.description)})))};E.displayName="VariablesInput";var w=E,j=a(10),O=function(){var e=Object(y.b)({method:"GET"},{manual:!0}),t=Object(i.a)(e,2),a=t[0].loading,n=t[1];return[Object(c.useCallback)((function(e){return n({url:"/document/".concat(e)})}),[n]),{loading:a}]},C=a(127),D=function(){var e=Object(y.b)({url:"/document",method:"POST"},{manual:!0}),t=Object(i.a)(e,2),a=t[0].loading,n=t[1];return[function(e){return e._id?n({url:"/document/".concat(e._id),method:"PUT",data:e}):n({data:e})},{loading:a}]},_=a(699),S=function(){var e=Object(k.c)((function(e){return e.permissions})),t=Object(d.i)().id,a=Object(d.h)(),n=O(),f=Object(i.a)(n,2),g=f[0],y=f[1].loading,v=D(),E=Object(i.a)(v,2),j=E[0],S=E[1].loading,B=Object(c.useState)(),N=Object(i.a)(B,2),G=N[0],I=N[1],P=Object(c.useRef)(null),R=Object(c.useCallback)(function(){var e=Object(o.a)(r.a.mark((function e(t){var a,n,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g(t);case 3:if(a=e.sent,n=null===a||void 0===a?void 0:a.data,o=n.document,P.current){e.next=7;break}return e.abrupt("return");case 7:I(o.title),P.current.data.set(o.data),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),Object(C.a)("202108222039"),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),[g]);Object(c.useEffect)((function(){e.document.read?t&&R(t):a("/")}),[t]);var L=function(e){P.current?P.current.model.change((function(t){t.insertText("".concat(e," "),P.current.model.document.selection.getFirstPosition())})):u.b.error("Erro ao carregar o editor de texto. Recarregue a p\xe1gina e tente novamente. Se o error persistir entre contato conosco. C\xf3digo do erro: 2021221819")},F=function(){var e=Object(o.a)(r.a.mark((function e(){var n,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G){e.next=3;break}return u.b.info("Informe o t\xedtulo do documento!"),e.abrupt("return");case 3:return n={_id:t,title:G,data:P.current.getData()},e.next=6,j(n);case 6:if(o=e.sent,!o.data.success){e.next=12;break}return Object(_.a)({content:"Documento salvo com sucesso"}),setTimeout((function(){return a("/documents")}),1500),e.abrupt("return");case 12:u.b.error(o.data.message);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=!!t&&e.document.update,z=!t&&e.document.create;return l.a.createElement(V,null,l.a.createElement(A,null,l.a.createElement(m.a,{gutter:10,style:{width:"100%"}},l.a.createElement(p.a,{flex:"400px"},l.a.createElement(x.a,{value:G,onChange:function(e){return I(e.target.value)},placeholder:"T\xedtulo do Documento"})),l.a.createElement(p.a,{flex:"250px"},l.a.createElement(w,{type:"people",addVariable:L})),l.a.createElement(p.a,{flex:"250px"},l.a.createElement(w,{type:"process",addVariable:L}))),l.a.createElement("div",null,(q||z)&&l.a.createElement(b.a,{type:"primary",onClick:F,loading:y||S},"Salvar"))),l.a.createElement("div",{class:"document-editor__toolbar"}),l.a.createElement(T,null,l.a.createElement("div",{className:"editor-container"},l.a.createElement(s.CKEditor,{editor:h.a,config:{toolbar:["undo","redo","pageBreak","horizontalLine","heading","|","fontSize","fontFamily","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","|","numberedList","bulletedList","todoList","|","outdent","indent","alignment","|","link","insertTable","mediaEmbed","imageInsert","|","highlight","findAndReplace"],language:"pt-br",table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","tableCellProperties","tableProperties"]},licenseKey:""},onReady:function(t){P.current=t,e.document.read&&(document.querySelector(".document-editor__toolbar").appendChild(t.ui.view.toolbar.element),document.querySelector(".ck-toolbar").classList.add("ck-reset_all"))}}))))};S.displayName="Document";t.default=S;var V=j.c.div.withConfig({displayName:"Document__Container",componentId:"kcin10-0"})(["padding:20px;"]),T=j.c.div.withConfig({displayName:"Document__EditorRow",componentId:"kcin10-1"})(["display:flex;justify-content:center;padding-top:20px;padding-bottom:20px;background:#f2f2f2;border:1px solid hsl(0,0%,77%);height:calc(100vh - 50px - 52px - 40px - 40px);overflow:auto;h1{font-weight:bold;}.editor-container{width:100%;max-width:700px;height:fit-content;background:white;border:1px hsl( 0,0%,82.7% ) solid;box-shadow:0 0 5px hsl(0deg 0% 0% / 10%);}.ck-editor__editable{min-height:700px;padding:40px !important;}"]),A=j.c.div.withConfig({displayName:"Document__Header",componentId:"kcin10-2"})(["display:flex;justify-content:space-between;margin-bottom:20px;"])}}]);