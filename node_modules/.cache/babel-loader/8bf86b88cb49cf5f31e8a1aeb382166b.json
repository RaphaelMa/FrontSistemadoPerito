{"ast":null,"code":"var _jsxFileName = \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Components/Inputs/JudicialDistrictLevelInput/JudicialDistrictLevelInput.tsx\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport React, { useEffect, useRef } from 'react';\nimport { PlusOutlined } from '@ant-design/icons';\nimport { UnstyledButton } from 'Components/SistemaDoPerito';\nimport { Select } from 'antd';\nimport { deburr } from 'lodash';\nimport useGetJudicialDistrictLevels from './useGetJudicialDistrictLevels';\nimport JudicialDistrictDrawer from 'Components/Drawers/JudicialDistrict/JudicialDistrict';\nimport { useUserSelector } from 'Redux/UserReducer';\n\n// TODO: Ajustar props\nconst JudicialDistrictLevelInput = ({\n  judicial_district_id,\n  show_create_button,\n  ...props\n}) => {\n  const plan_modules = useUserSelector(state => {\n    var _state$company;\n\n    return (_state$company = state.company) === null || _state$company === void 0 ? void 0 : _state$company.plan.modules;\n  });\n  const permissions = useUserSelector(state => state.permissions);\n  const judicialDistrictDrawerRef = useRef(null);\n  const [{\n    data,\n    loading\n  }, getJudicialDistrictLevels] = useGetJudicialDistrictLevels();\n  useEffect(() => {\n    if (!judicial_district_id) return;\n    getJudicialDistrictLevels({\n      url: `/judicialdistrictlevel/judicialdistrict=${judicial_district_id}`\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [judicial_district_id]);\n\n  const onCreateClick = () => {\n    var _judicialDistrictDraw;\n\n    (_judicialDistrictDraw = judicialDistrictDrawerRef.current) === null || _judicialDistrictDraw === void 0 ? void 0 : _judicialDistrictDraw.open(judicial_district_id);\n  };\n\n  const afterSave = () => {\n    getJudicialDistrictLevels({\n      url: `/judicialdistrictlevel/judicialdistrict=${judicial_district_id}`\n    });\n  };\n\n  const district_levels = data || [];\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Select, Object.assign({\n    style: {\n      width: '100%'\n    },\n    loading: loading,\n    placeholder: \"Vara\",\n    showSearch: true,\n    \"aria-autocomplete\": \"none\",\n    filterOption: (raw_value, option) => {\n      const value = deburr(raw_value).toLowerCase();\n      const option_value = deburr(option === null || option === void 0 ? void 0 : option.children).toLowerCase();\n      return option_value.indexOf(value) >= 0;\n    },\n    dropdownRender: menu => /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }\n    }, menu, show_create_button && judicial_district_id && (plan_modules === null || plan_modules === void 0 ? void 0 : plan_modules.Register) && (permissions === null || permissions === void 0 ? void 0 : permissions.judicialdistrict.update) && /*#__PURE__*/React.createElement(UnstyledButton, {\n      style: {\n        display: 'block',\n        padding: 8\n      },\n      className: \"no-decoration\",\n      onClick: onCreateClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(PlusOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }), \" Nova vara\"))\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }), district_levels.map(level => /*#__PURE__*/React.createElement(Select.Option, {\n    key: level._id,\n    value: level._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, level.description))), /*#__PURE__*/React.createElement(JudicialDistrictDrawer, {\n    ref: judicialDistrictDrawerRef,\n    afterSave: afterSave,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }));\n};\n\n__signature__(JudicialDistrictLevelInput, \"useUserSelector{plan_modules}\\nuseUserSelector{permissions}\\nuseRef{judicialDistrictDrawerRef}\\nuseGetJudicialDistrictLevels{[{ data, loading }, getJudicialDistrictLevels]}\\nuseEffect{}\", () => [useUserSelector, useUserSelector, useGetJudicialDistrictLevels]);\n\nconst _default = JudicialDistrictLevelInput;\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(JudicialDistrictLevelInput, \"JudicialDistrictLevelInput\", \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Components/Inputs/JudicialDistrictLevelInput/JudicialDistrictLevelInput.tsx\");\n  reactHotLoader.register(_default, \"default\", \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Components/Inputs/JudicialDistrictLevelInput/JudicialDistrictLevelInput.tsx\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Components/Inputs/JudicialDistrictLevelInput/JudicialDistrictLevelInput.tsx"],"names":["React","useEffect","useRef","PlusOutlined","UnstyledButton","Select","deburr","useGetJudicialDistrictLevels","JudicialDistrictDrawer","useUserSelector","JudicialDistrictLevelInput","judicial_district_id","show_create_button","props","plan_modules","state","company","plan","modules","permissions","judicialDistrictDrawerRef","data","loading","getJudicialDistrictLevels","url","onCreateClick","current","open","afterSave","district_levels","width","raw_value","option","value","toLowerCase","option_value","children","indexOf","menu","Register","judicialdistrict","update","display","padding","map","level","_id","description"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef } from 'react'\nimport { SelectProps } from 'antd/lib/select'\nimport { PlusOutlined } from '@ant-design/icons'\nimport { UnstyledButton } from 'Components/SistemaDoPerito'\nimport { Select } from 'antd'\nimport { deburr } from 'lodash'\nimport useGetJudicialDistrictLevels from './useGetJudicialDistrictLevels'\nimport JudicialDistrictDrawer, { JudicialDistrictDrawerType } from 'Components/Drawers/JudicialDistrict/JudicialDistrict'\nimport { useUserSelector } from 'Redux/UserReducer'\n\ntype Props = {\n  judicial_district_id: string,\n  show_create_button?: boolean,\n} & SelectProps<any | any[]>\n\n// TODO: Ajustar props\nconst JudicialDistrictLevelInput: React.FC<Props> = ({ judicial_district_id, show_create_button, ...props }) => {\n  const plan_modules = useUserSelector(state => state.company?.plan.modules)\n  const permissions = useUserSelector(state => state.permissions)\n\n  const judicialDistrictDrawerRef = useRef<JudicialDistrictDrawerType>(null)\n\n  const [{ data, loading }, getJudicialDistrictLevels] = useGetJudicialDistrictLevels()\n\n  useEffect(() => {\n    if (!judicial_district_id) return\n\n    getJudicialDistrictLevels({ url: `/judicialdistrictlevel/judicialdistrict=${judicial_district_id}` })\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [judicial_district_id])\n\n  const onCreateClick = () => {\n    judicialDistrictDrawerRef.current?.open(judicial_district_id)\n  }\n\n  const afterSave = () => {\n    getJudicialDistrictLevels({ url: `/judicialdistrictlevel/judicialdistrict=${judicial_district_id}` })\n  }\n\n  const district_levels = data || []\n\n  return (\n    <>\n      <Select\n        style={{ width: '100%' }}\n        loading={loading}\n        placeholder=\"Vara\"\n        showSearch\n        aria-autocomplete=\"none\"\n        filterOption={(raw_value, option) => {\n          const value = deburr(raw_value).toLowerCase()\n          const option_value = deburr(option?.children).toLowerCase()\n\n          return option_value.indexOf(value) >= 0\n        }}\n        dropdownRender={menu =>\n          <div>\n            {menu}\n            {show_create_button && judicial_district_id && plan_modules?.Register && permissions?.judicialdistrict.update &&\n              <UnstyledButton\n                style={{ display: 'block', padding: 8 }}\n                className=\"no-decoration\"\n                onClick={onCreateClick}\n              >\n                <PlusOutlined/> Nova vara\n              </UnstyledButton>\n            }\n          </div>\n        }\n        {...props}\n      >\n        {district_levels.map(level => (\n          <Select.Option key={level._id} value={level._id}>{level.description}</Select.Option>\n        ))}\n      </Select>\n      <JudicialDistrictDrawer ref={judicialDistrictDrawerRef} afterSave={afterSave}/>\n    </>\n  )\n}\n\nexport default JudicialDistrictLevelInput\n"]},"metadata":{},"sourceType":"module"}