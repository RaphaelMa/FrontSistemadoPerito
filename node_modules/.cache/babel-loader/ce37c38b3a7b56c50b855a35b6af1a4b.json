{"ast":null,"code":"import _regeneratorRuntime from\"/Users/raphael/Documents/Github/FrontSistemadoPerito/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/Users/raphael/Documents/Github/FrontSistemadoPerito/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"/Users/raphael/Documents/Github/FrontSistemadoPerito/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _asyncToGenerator from\"/Users/raphael/Documents/Github/FrontSistemadoPerito/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/raphael/Documents/Github/FrontSistemadoPerito/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{forwardRef,useCallback,useImperativeHandle,useState}from'react';import{Modal,Spin,Form,Button}from'antd';import useGetDeadline from'./useGetDeadline';import DeadlineForm from'./DeadlineForm';import moment from'moment';import messageError from'Utils/messageError';var DeadlineModal=function DeadlineModal(_,ref){var _Form$useForm=Form.useForm(),_Form$useForm2=_slicedToArray(_Form$useForm,1),form=_Form$useForm2[0];var resetFields=form.resetFields,setFieldsValue=form.setFieldsValue;var _useState=useState(),_useState2=_slicedToArray(_useState,2),process_id=_useState2[0],setProcessId=_useState2[1];var _useGetDeadline=useGetDeadline(),_useGetDeadline2=_slicedToArray(_useGetDeadline,2),loading=_useGetDeadline2[0],getDeadline=_useGetDeadline2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),visible=_useState4[0],setVisible=_useState4[1];var formatDate=useCallback(function(date){if(!date)return undefined;return moment(date).format('DD/MM/YYYY');},[]);var open=useCallback(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){var _yield$getDeadline,data,_ref2,deadeLine_date,deliveryImpugnment,previsionImpugnment,clarificationImpugnment,clarificationDeliveryImpugnment,previsionReport,deliveryReport,clarificationReport,clarificationDeliveryReport,rest,deadline;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setVisible(true);setProcessId(id);_context.prev=2;_context.next=5;return getDeadline(id);case 5:_yield$getDeadline=_context.sent;data=_yield$getDeadline.data;_ref2=(data===null||data===void 0?void 0:data.message)||{},deadeLine_date=_ref2.deadeLine_date,deliveryImpugnment=_ref2.deliveryImpugnment,previsionImpugnment=_ref2.previsionImpugnment,clarificationImpugnment=_ref2.clarificationImpugnment,clarificationDeliveryImpugnment=_ref2.clarificationDeliveryImpugnment,previsionReport=_ref2.previsionReport,deliveryReport=_ref2.deliveryReport,clarificationReport=_ref2.clarificationReport,clarificationDeliveryReport=_ref2.clarificationDeliveryReport,rest=_objectWithoutProperties(_ref2,[\"deadeLine_date\",\"deliveryImpugnment\",\"previsionImpugnment\",\"clarificationImpugnment\",\"clarificationDeliveryImpugnment\",\"previsionReport\",\"deliveryReport\",\"clarificationReport\",\"clarificationDeliveryReport\"]);deadline=_objectSpread({},rest,{deadeLine_date:formatDate(deadeLine_date),deliveryImpugnment:formatDate(deliveryImpugnment),previsionImpugnment:formatDate(previsionImpugnment),clarificationImpugnment:formatDate(clarificationImpugnment),clarificationDeliveryImpugnment:formatDate(clarificationDeliveryImpugnment),previsionReport:formatDate(previsionReport),deliveryReport:formatDate(deliveryReport),clarificationReport:formatDate(clarificationReport),clarificationDeliveryReport:formatDate(clarificationDeliveryReport)});setFieldsValue(deadline);_context.next=16;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](2);messageError('202104141910');console.log(_context.t0);case 16:case\"end\":return _context.stop();}}},_callee,null,[[2,12]]);}));return function(_x){return _ref.apply(this,arguments);};}(),[formatDate,getDeadline,setFieldsValue]);var close=useCallback(function(){setVisible(false);},[]);useImperativeHandle(ref,function(){return{open:open,close:close};});return/*#__PURE__*/React.createElement(Modal,{visible:visible,onCancel:close,centered:true,width:1240,footer:/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{type:\"primary\",href:\"process/\".concat(process_id),target:\"_blank\",rel:\"noopener noreferrer\"},\"Ir para Processo\")),afterClose:function afterClose(){resetFields();setProcessId(undefined);}},/*#__PURE__*/React.createElement(Spin,{spinning:loading},/*#__PURE__*/React.createElement(Form,{form:form,layout:\"vertical\"},/*#__PURE__*/React.createElement(DeadlineForm,null))));};DeadlineModal.displayName=\"DeadlineModal\";export default forwardRef(DeadlineModal);","map":null,"metadata":{},"sourceType":"module"}