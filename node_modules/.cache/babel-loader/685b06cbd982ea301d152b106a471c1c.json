{"ast":null,"code":"var _jsxFileName = \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Components/Drawers/JudicialDistrict/JudicialDistrict.tsx\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport React, { forwardRef, useImperativeHandle, useState } from 'react';\nimport { Alert, Button, Drawer, Form, message, Spin } from 'antd';\nimport JudicialDistrictForm from './JudicialDistrictForm';\nimport styled from 'styled-components';\nimport useSaveJudicialDistrict from './useSaveJudicialDistrict';\nimport messageError from 'Utils/messageError';\nimport useGetJudicialDistrict from './useGetJudicialDistrict';\nimport JudicialDistrictLevelList from 'Pages/JudicialDistrictLevel/JudicialDistrictLevelList';\nimport successModal from 'Utils/successModal';\n\nconst JudicialDistrict = ({\n  afterSave\n}, ref) => {\n  const [id, setId] = useState('');\n  const [visible, setVisible] = useState(false);\n  const [form] = Form.useForm();\n  const [saveMutation, saving] = useSaveJudicialDistrict();\n  const [getJudicialDistrict, loading] = useGetJudicialDistrict();\n\n  const loadData = async id => {\n    try {\n      const {\n        data: {\n          judicialDistrict\n        }\n      } = await getJudicialDistrict(id);\n      form.setFieldsValue(judicialDistrict);\n    } catch (e) {\n      messageError('2508202252');\n    }\n  };\n\n  const open = id => {\n    if (id) {\n      loadData(id);\n      setId(id);\n    }\n\n    setVisible(true);\n  };\n\n  const close = () => {\n    setVisible(false);\n    form.resetFields();\n    setId('');\n  };\n\n  useImperativeHandle(ref, () => ({\n    open,\n    close\n  }));\n\n  const save = async values => {\n    try {\n      const {\n        data\n      } = await saveMutation(values);\n\n      if (!(data === null || data === void 0 ? void 0 : data.success)) {\n        message.error(data.message);\n        return;\n      }\n\n      successModal({\n        content: 'Comarca salva com sucesso'\n      });\n      afterSave && afterSave(data.judicialDistrict);\n      close();\n    } catch (e) {\n      messageError('3008201528');\n    }\n  };\n\n  const handleSave = () => {\n    form.validateFields().then(values => save(values));\n  };\n\n  return /*#__PURE__*/React.createElement(Drawer, {\n    visible: visible,\n    onClose: close,\n    title: \"Comarca\",\n    width: 700,\n    footer: /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: close,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }\n    }, \"Cancelar\"), /*#__PURE__*/React.createElement(Button, {\n      loading: saving,\n      onClick: handleSave,\n      type: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }\n    }, \"Salvar\")),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Spin, {\n    spinning: loading || saving,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(JudicialDistrictForm, {\n    form: form,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }), id ? /*#__PURE__*/React.createElement(JudicialDistrictLevelList, {\n    judicialDistrictId: id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(AlertComponent, {\n    message: \"Voc\\xEA poder\\xE1 adicionar as varas editando uma comarca!\",\n    type: \"info\",\n    showIcon: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  })));\n};\n\n__signature__(JudicialDistrict, \"useState{[id, setId]('')}\\nuseState{[visible, setVisible](false)}\\nuseForm{[form]}\\nuseSaveJudicialDistrict{[saveMutation, saving]}\\nuseGetJudicialDistrict{[getJudicialDistrict, loading]}\\nuseImperativeHandle{}\", () => [useSaveJudicialDistrict, useGetJudicialDistrict, useImperativeHandle]);\n\nJudicialDistrict.displayName = \"JudicialDistrict\";\n\nconst _default = forwardRef(JudicialDistrict);\n\nexport default _default;\nconst Footer = styled.div.withConfig({\n  displayName: \"JudicialDistrict__Footer\",\n  componentId: \"sc-1yolkc7-0\"\n})([\"text-align:right;button + button{margin-left:8px;}\"]);\nconst AlertComponent = styled(Alert).withConfig({\n  displayName: \"JudicialDistrict__AlertComponent\",\n  componentId: \"sc-1yolkc7-1\"\n})([\"border:none;\"]);\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(JudicialDistrict, \"JudicialDistrict\", \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Components/Drawers/JudicialDistrict/JudicialDistrict.tsx\");\n  reactHotLoader.register(Footer, \"Footer\", \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Components/Drawers/JudicialDistrict/JudicialDistrict.tsx\");\n  reactHotLoader.register(AlertComponent, \"AlertComponent\", \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Components/Drawers/JudicialDistrict/JudicialDistrict.tsx\");\n  reactHotLoader.register(_default, \"default\", \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Components/Drawers/JudicialDistrict/JudicialDistrict.tsx\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Components/Drawers/JudicialDistrict/JudicialDistrict.tsx"],"names":["React","forwardRef","useImperativeHandle","useState","Alert","Button","Drawer","Form","message","Spin","JudicialDistrictForm","styled","useSaveJudicialDistrict","messageError","useGetJudicialDistrict","JudicialDistrictLevelList","successModal","JudicialDistrict","afterSave","ref","id","setId","visible","setVisible","form","useForm","saveMutation","saving","getJudicialDistrict","loading","loadData","data","judicialDistrict","setFieldsValue","e","open","close","resetFields","save","values","success","error","content","handleSave","validateFields","then","Footer","div","AlertComponent"],"mappings":"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","sourcesContent":["import React, { forwardRef, useImperativeHandle, useState } from 'react'\nimport { Alert, Button, Drawer, Form, message, Spin } from 'antd'\nimport JudicialDistrictForm from './JudicialDistrictForm'\nimport styled from 'styled-components'\nimport useSaveJudicialDistrict from './useSaveJudicialDistrict'\nimport messageError from 'Utils/messageError'\nimport useGetJudicialDistrict from './useGetJudicialDistrict'\nimport { JudicialDistrictType } from './types'\nimport JudicialDistrictLevelList from 'Pages/JudicialDistrictLevel/JudicialDistrictLevelList'\nimport successModal from 'Utils/successModal'\n\ntype OpenType = (id?: string) => void\n\nexport type JudicialDistrictDrawerType = {\n  open: OpenType\n  close: () => void,\n}\n\ntype Props = {\n  afterSave: (district: Omit<JudicialDistrictType, '_id'> & { _id: string }) => void,\n}\n\nconst JudicialDistrict: React.ForwardRefRenderFunction<JudicialDistrictDrawerType, Props> = ({ afterSave }, ref) => {\n  const [id, setId] = useState('')\n  const [visible, setVisible] = useState(false)\n  const [form] = Form.useForm()\n  const [saveMutation, saving] = useSaveJudicialDistrict()\n  const [getJudicialDistrict, loading] = useGetJudicialDistrict()\n\n  const loadData = async (id: string) => {\n    try {\n      const { data: { judicialDistrict } } = await getJudicialDistrict(id)\n\n      form.setFieldsValue(judicialDistrict)\n    } catch (e) {\n      messageError('2508202252')\n    }\n  }\n\n  const open: OpenType = (id) => {\n    if (id) {\n      loadData(id)\n      setId(id)\n    }\n\n    setVisible(true)\n  }\n\n  const close = () => {\n    setVisible(false)\n\n    form.resetFields()\n    setId('')\n  }\n\n  useImperativeHandle(ref, () => ({ open, close }))\n\n  const save = async (values: JudicialDistrictType) => {\n    try {\n      const { data } = await saveMutation(values)\n\n      if (!data?.success) {\n        message.error(data.message)\n        return\n      }\n\n      successModal({ content: 'Comarca salva com sucesso' })\n      afterSave && afterSave(data.judicialDistrict)\n      close()\n    } catch (e) {\n      messageError('3008201528')\n    }\n  }\n\n  const handleSave = () => {\n    form.validateFields()\n      .then(values => save(values as JudicialDistrictType))\n  }\n\n  return (\n    <Drawer\n      visible={visible}\n      onClose={close}\n      title=\"Comarca\"\n      width={700}\n      footer={\n        <Footer>\n          <Button onClick={close}>Cancelar</Button>\n          <Button loading={saving} onClick={handleSave} type=\"primary\">Salvar</Button>\n        </Footer>\n      }\n    >\n      <Spin spinning={loading || saving}>\n        <JudicialDistrictForm form={form}/>\n\n        {id\n          ? <JudicialDistrictLevelList judicialDistrictId={id}/>\n          : <AlertComponent message=\"Você poderá adicionar as varas editando uma comarca!\" type=\"info\" showIcon/>\n        }\n      </Spin>\n    </Drawer>\n  )\n}\n\nexport default forwardRef(JudicialDistrict)\n\nconst Footer = styled.div`\n  text-align: right;\n\n  button + button {\n    margin-left: 8px;\n  }\n`\n\nconst AlertComponent = styled(Alert)`\n  border: none;\n`\n"]},"metadata":{},"sourceType":"module"}