{"ast":null,"code":"import _regeneratorRuntime from\"/Users/raphael/Documents/Github/FrontSistemadoPerito/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/raphael/Documents/Github/FrontSistemadoPerito/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/raphael/Documents/Github/FrontSistemadoPerito/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import useGetHistory from'./useGetHistory';import styled from'styled-components';import moment from'moment';var History=function History(_ref){var task_id=_ref.task_id;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useGetHistory=useGetHistory(),_useGetHistory2=_slicedToArray(_useGetHistory,1),getHistory=_useGetHistory2[0];var loadHistories=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$getHistory,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getHistory(task_id);case 2:_yield$getHistory=_context.sent;data=_yield$getHistory.data;setData(data||[]);case 5:case\"end\":return _context.stop();}}},_callee);}));return function loadHistories(){return _ref2.apply(this,arguments);};}();useEffect(function(){if(task_id)loadHistories();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);if(data.length===0)return null;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Title,null,\"Hist\\xF3rico\"),data.map(function(history,index){var _history$user,_history$record;return/*#__PURE__*/React.createElement(ListItem,{key:index},/*#__PURE__*/React.createElement(ItemTitle,null,moment(history.createAt).format('DD/MM/YYYY'),\" - \",(_history$user=history.user)===null||_history$user===void 0?void 0:_history$user.user_name,\" - \",history.action.action_name),(_history$record=history.record)===null||_history$record===void 0?void 0:_history$record.map(function(record){return/*#__PURE__*/React.createElement(Item,{key:record._id},record.description);}));}));};History.displayName=\"History\";export default History;var Title=styled.div.withConfig({displayName:\"History__Title\",componentId:\"sc-1ldjkek-0\"})([\"text-align:center;font-size:20px;\"]);var ListItem=styled.div.withConfig({displayName:\"History__ListItem\",componentId:\"sc-1ldjkek-1\"})([\"display:flex;flex-direction:column;padding:10px;border:1px solid \",\";margin-top:10px;\"],function(p){return p.theme.colors.primary;});var Item=styled.div.withConfig({displayName:\"History__Item\",componentId:\"sc-1ldjkek-2\"})([\"&::before{content:'';display:inline-block;width:7px;height:7px;border-radius:50%;background-color:\",\";margin-right:5px;}\"],function(p){return p.theme.colors.primary;});var ItemTitle=styled.div.withConfig({displayName:\"History__ItemTitle\",componentId:\"sc-1ldjkek-3\"})([\"font-size:16px;\"]);","map":null,"metadata":{},"sourceType":"module"}