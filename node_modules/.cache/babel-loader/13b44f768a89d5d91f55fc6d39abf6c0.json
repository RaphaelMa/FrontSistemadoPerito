{"ast":null,"code":"var _jsxFileName = \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Pages/NewProcess/Files/useColumns.tsx\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport React, { useMemo } from 'react';\nimport { Progress, Tooltip, Button } from 'antd';\nimport { ReactComponent as ExportIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!Assets/icons/icon_export.svg\";\nimport { theme } from 'Styles/theme';\nimport Icon, { CheckCircleTwoTone, InfoCircleTwoTone, DeleteOutlined } from '@ant-design/icons';\nimport moment from 'moment';\nimport styled from 'styled-components';\nimport { useUserSelector } from 'Redux/UserReducer';\n\nconst useColumns = ({\n  handleDelete\n}) => {\n  const permissions = useUserSelector(state => state.permissions);\n  return useMemo(() => [{\n    title: 'Data',\n    dataIndex: 'created_at',\n    key: 'created_at',\n    defaultSortOrder: 'descend',\n    width: 150,\n    align: 'center',\n    sorter: (a, b) => {\n      if (a.created_at < b.created_at) return -1;\n      if (a.created_at > b.created_at) return 1;\n      return 0;\n    },\n    render: created_at => moment(created_at).utc().format('DD/MM/YYYY HH:mm')\n  }, {\n    title: 'Arquivo',\n    dataIndex: 'name',\n    key: 'name',\n    ellipsis: true,\n    sorter: (a, b) => {\n      if (a.name < b.name) return -1;\n      if (a.name > b.name) return 1;\n      return 0;\n    },\n    render: (name, file) => {\n      return /*#__PURE__*/React.createElement(FileInfo, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        title: name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }\n      }, name), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }\n      }, file.readable_size));\n    }\n  }, {\n    title: 'Ações',\n    key: 'actions',\n    align: 'center',\n    width: 120,\n    render: file => /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }, !file.uploaded && !file.error && /*#__PURE__*/React.createElement(Progress, {\n      type: \"circle\",\n      showInfo: false,\n      strokeColor: {\n        '0%': '#108ee9',\n        '100%': '#87d068'\n      },\n      percent: file.progress,\n      width: 20,\n      strokeWidth: 15,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    }), file.url && /*#__PURE__*/React.createElement(\"a\", {\n      href: file.url,\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      component: ExportIcon,\n      style: {\n        marginRight: 8,\n        fontSize: 20\n      },\n      color: \"#222\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 15\n      }\n    })), file.uploaded && /*#__PURE__*/React.createElement(CheckCircleTwoTone, {\n      style: {\n        fontSize: 20\n      },\n      twoToneColor: \"#52c41a\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 29\n      }\n    }), file.error && /*#__PURE__*/React.createElement(Tooltip, {\n      title: file.message_error,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(InfoCircleTwoTone, {\n      style: {\n        fontSize: 20\n      },\n      twoToneColor: theme.colors.red,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 15\n      }\n    })), !!file.url && (permissions === null || permissions === void 0 ? void 0 : permissions.attachment.delete) && /*#__PURE__*/React.createElement(Button, {\n      type: \"text\",\n      icon: /*#__PURE__*/React.createElement(DeleteOutlined, {\n        style: {\n          color: theme.colors.red\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }\n      }),\n      onClick: () => handleDelete(file.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }\n    }))\n  }], [handleDelete, permissions]);\n};\n\n__signature__(useColumns, \"useUserSelector{permissions}\\nuseMemo{}\", () => [useUserSelector]);\n\nconst _default = useColumns;\nexport default _default;\nconst FileInfo = styled.div.withConfig({\n  displayName: \"useColumns__FileInfo\",\n  componentId: \"sc-1w97rpa-0\"\n})([\"display:flex;flex-direction:column;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;word-break:keep-all;strong{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;word-break:keep-all;}span{font-size:12px;color:#999;margin-top:5px;button{border:0;background:transparent;color:#e57878;margin-left:5px;cursor:pointer;}}\"]);\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(useColumns, \"useColumns\", \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Pages/NewProcess/Files/useColumns.tsx\");\n  reactHotLoader.register(FileInfo, \"FileInfo\", \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Pages/NewProcess/Files/useColumns.tsx\");\n  reactHotLoader.register(_default, \"default\", \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Pages/NewProcess/Files/useColumns.tsx\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Pages/NewProcess/Files/useColumns.tsx"],"names":["React","useMemo","Progress","Tooltip","Button","theme","Icon","CheckCircleTwoTone","InfoCircleTwoTone","DeleteOutlined","moment","styled","useUserSelector","useColumns","handleDelete","permissions","state","title","dataIndex","key","defaultSortOrder","width","align","sorter","a","b","created_at","render","utc","format","ellipsis","name","file","readable_size","uploaded","error","progress","url","ExportIcon","marginRight","fontSize","message_error","colors","red","attachment","delete","color","id","FileInfo","div"],"mappings":"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","sourcesContent":["import React, { useMemo } from 'react'\nimport { FileType } from './FilesCard'\nimport { ColumnsType } from 'antd/es/table'\nimport { Progress, Tooltip, Button } from 'antd'\nimport { ReactComponent as ExportIcon } from 'Assets/icons/icon_export.svg'\nimport { theme } from 'Styles/theme'\nimport Icon, { CheckCircleTwoTone, InfoCircleTwoTone, DeleteOutlined } from '@ant-design/icons'\nimport moment from 'moment'\nimport styled from 'styled-components'\nimport { useUserSelector } from 'Redux/UserReducer'\n\ntype UseColumnsProps = {\n  handleDelete: (id: string) => void,\n}\n\nconst useColumns = ({ handleDelete }: UseColumnsProps): ColumnsType<FileType> => {\n  const permissions = useUserSelector(state => state.permissions)\n\n  return useMemo(() => ([\n    {\n      title: 'Data',\n      dataIndex: 'created_at',\n      key: 'created_at',\n      defaultSortOrder: 'descend',\n      width: 150,\n      align: 'center',\n      sorter: (a, b) => {\n        if (a.created_at < b.created_at) return -1\n        if (a.created_at > b.created_at) return 1\n\n        return 0\n      },\n      render: (created_at) => (\n        moment(created_at).utc().format('DD/MM/YYYY HH:mm')\n      )\n    }, {\n      title: 'Arquivo',\n      dataIndex: 'name',\n      key: 'name',\n      ellipsis: true,\n      sorter: (a, b) => {\n        if (a.name < b.name) return -1\n        if (a.name > b.name) return 1\n\n        return 0\n      },\n      render: (name: string, file: FileType) => {\n        return (\n          <FileInfo>\n            <strong title={name}>{name}</strong>\n            <span>\n              {file.readable_size}\n            </span>\n          </FileInfo>\n        )\n      }\n    },\n    {\n      title: 'Ações',\n      key: 'actions',\n      align: 'center',\n      width: 120,\n      render: (file: FileType) => (\n        <div>\n          {!file.uploaded && !file.error &&\n            <Progress\n              type=\"circle\"\n              showInfo={false}\n              strokeColor={{ '0%': '#108ee9', '100%': '#87d068' }}\n              percent={file.progress}\n              width={20}\n              strokeWidth={15}\n            />\n          }\n          {file.url &&\n            <a\n              href={file.url}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              <Icon component={ExportIcon} style={{ marginRight: 8, fontSize: 20 }} color=\"#222\"/>\n            </a>\n          }\n\n          {file.uploaded && <CheckCircleTwoTone style={{ fontSize: 20 }} twoToneColor=\"#52c41a\" />}\n          {file.error &&\n            <Tooltip title={file.message_error}>\n              <InfoCircleTwoTone style={{ fontSize: 20 }} twoToneColor={theme.colors.red} />\n            </Tooltip>\n          }\n          {!!file.url && permissions?.attachment.delete &&\n            <Button\n              type=\"text\"\n              icon={<DeleteOutlined style={{ color: theme.colors.red }}/>}\n              onClick={() => handleDelete(file.id)}\n            />\n          }\n        </div>\n      ),\n    },\n  ]), [handleDelete, permissions])\n}\n\nexport default useColumns\n\nconst FileInfo = styled.div`\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  word-break: keep-all;\n\n  strong {\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    word-break: keep-all;\n  }\n  span {\n    font-size: 12px;\n    color: #999;\n    margin-top: 5px;\n    button {\n      border: 0;\n      background: transparent;\n      color: #e57878;\n      margin-left: 5px;\n      cursor: pointer;\n    }\n  }\n`\n"]},"metadata":{},"sourceType":"module"}