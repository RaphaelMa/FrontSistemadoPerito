{"ast":null,"code":"var _jsxFileName = \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Components/Inputs/StatusImpeachmentInput/StatusImpeachmentInput.tsx\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport React, { useRef } from 'react';\nimport { useUserSelector } from '../../../Redux/UserReducer';\nimport { UnstyledButton } from '../../SistemaDoPerito';\nimport { PlusOutlined } from '@ant-design/icons';\nimport { deburr } from 'lodash';\nimport { Select } from 'antd';\nimport StatusImpugnationDrawer from '../../Drawers/StatusImpugnation/StatusImpugnationDrawer';\nimport useGetStatusImpeachment from './useGetStatusImpeachment';\nconst {\n  Option\n} = Select;\n\nconst StatusImpeachmentInput = ({\n  query_options,\n  show_create_button = false,\n  ...props\n}) => {\n  const plan_modules = useUserSelector(state => {\n    var _state$company;\n\n    return (_state$company = state.company) === null || _state$company === void 0 ? void 0 : _state$company.plan.modules;\n  });\n  const statusImpeachmentDrawerRef = useRef(null);\n  const [{\n    data,\n    loading\n  }, refetch] = useGetStatusImpeachment(query_options);\n  const status_impeachments = data || [];\n\n  const onCreateClick = () => {\n    var _statusImpeachmentDra;\n\n    (_statusImpeachmentDra = statusImpeachmentDrawerRef.current) === null || _statusImpeachmentDra === void 0 ? void 0 : _statusImpeachmentDra.open();\n  };\n\n  const afterSave = status => {\n    refetch();\n    const value = props.mode === 'multiple' || props.mode === 'tags' ? [...props.value, status._id] : status._id;\n\n    if (props.onChange) {\n      props.onChange(value, {\n        children: status.description,\n        value: status._id\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Select, Object.assign({\n    style: {\n      width: '100%'\n    },\n    loading: loading,\n    placeholder: \"Selecione...\",\n    getPopupContainer: trigger => trigger.parentElement,\n    showSearch: true,\n    filterOption: (raw_value, option) => {\n      const value_lower_case = deburr(raw_value).toLowerCase();\n      const option_value_lower_case = deburr(option === null || option === void 0 ? void 0 : option.children).toLowerCase();\n      return option_value_lower_case.indexOf(value_lower_case) >= 0;\n    },\n    dropdownRender: menu => /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }\n    }, menu, !!show_create_button && (plan_modules === null || plan_modules === void 0 ? void 0 : plan_modules.Register) && /*#__PURE__*/React.createElement(UnstyledButton, {\n      style: {\n        display: 'block',\n        padding: 8\n      },\n      className: \"no-decoration\",\n      onClick: onCreateClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(PlusOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }), \" Novo status\"))\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }), status_impeachments.map(process => /*#__PURE__*/React.createElement(Option, {\n    key: process._id,\n    value: process._id,\n    number: process.description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, process.description))), /*#__PURE__*/React.createElement(StatusImpugnationDrawer, {\n    ref: statusImpeachmentDrawerRef,\n    afterSave: afterSave,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }));\n};\n\n__signature__(StatusImpeachmentInput, \"useUserSelector{plan_modules}\\nuseRef{statusImpeachmentDrawerRef}\\nuseGetStatusImpeachment{[{ data, loading }, refetch]}\", () => [useUserSelector, useGetStatusImpeachment]);\n\nconst _default = StatusImpeachmentInput;\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(Option, \"Option\", \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Components/Inputs/StatusImpeachmentInput/StatusImpeachmentInput.tsx\");\n  reactHotLoader.register(StatusImpeachmentInput, \"StatusImpeachmentInput\", \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Components/Inputs/StatusImpeachmentInput/StatusImpeachmentInput.tsx\");\n  reactHotLoader.register(_default, \"default\", \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Components/Inputs/StatusImpeachmentInput/StatusImpeachmentInput.tsx\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Components/Inputs/StatusImpeachmentInput/StatusImpeachmentInput.tsx"],"names":["React","useRef","useUserSelector","UnstyledButton","PlusOutlined","deburr","Select","StatusImpugnationDrawer","useGetStatusImpeachment","Option","StatusImpeachmentInput","query_options","show_create_button","props","plan_modules","state","company","plan","modules","statusImpeachmentDrawerRef","data","loading","refetch","status_impeachments","onCreateClick","current","open","afterSave","status","value","mode","_id","onChange","children","description","width","trigger","parentElement","raw_value","option","value_lower_case","toLowerCase","option_value_lower_case","indexOf","menu","Register","display","padding","map","process"],"mappings":"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","sourcesContent":["import React, { useRef } from 'react'\nimport { StatusImpeachment } from '../../Drawers/StatusImpugnation/types'\nimport { useUserSelector } from '../../../Redux/UserReducer'\nimport { UnstyledButton } from '../../SistemaDoPerito'\nimport { PlusOutlined } from '@ant-design/icons'\nimport { SelectProps } from 'antd/lib/select'\nimport { Options } from 'axios-hooks'\nimport { deburr } from 'lodash'\nimport { Select } from 'antd'\nimport StatusImpugnationDrawer, { StatusDrawerType } from '../../Drawers/StatusImpugnation/StatusImpugnationDrawer'\nimport useGetStatusImpeachment from './useGetStatusImpeachment'\n\nconst { Option } = Select\n\ntype Props = {\n  query_options?: Options,\n  show_create_button?: boolean\n} & SelectProps<any | any[]>\n\nconst StatusImpeachmentInput: React.FC<Props> = ({ query_options, show_create_button = false, ...props }) => {\n  const plan_modules = useUserSelector(state => state.company?.plan.modules)\n  const statusImpeachmentDrawerRef = useRef<StatusDrawerType>(null)\n\n  const [{ data, loading }, refetch] = useGetStatusImpeachment(query_options)\n  const status_impeachments = data || []\n\n\n  const onCreateClick = () => {\n    statusImpeachmentDrawerRef.current?.open()\n  }\n\n  const afterSave = (status: StatusImpeachment) => {\n    refetch()\n    const value = props.mode === 'multiple' || props.mode === 'tags' ? [...props.value, status._id] : status._id\n\n    if (props.onChange) {\n      props.onChange(value, { children: status.description, value: status._id! })\n    }\n  }\n\n  return (\n    <>\n      <Select\n        style={{ width: '100%' }}\n        loading={loading}\n        placeholder=\"Selecione...\"\n        getPopupContainer={trigger => trigger.parentElement}\n        showSearch\n        filterOption={(raw_value, option) => {\n          const value_lower_case = deburr(raw_value).toLowerCase()\n          const option_value_lower_case = deburr(option?.children).toLowerCase()\n\n          return option_value_lower_case.indexOf(value_lower_case) >= 0\n        }}\n        dropdownRender={menu =>\n          <div>\n            {menu}\n\n            {(!!show_create_button && plan_modules?.Register) && (\n              <UnstyledButton\n                style={{ display: 'block', padding: 8 }}\n                className=\"no-decoration\"\n                onClick={onCreateClick}\n              >\n                <PlusOutlined/> Novo status\n              </UnstyledButton>\n            )}\n          </div>\n        }\n        {...props}\n      >\n        {status_impeachments.map(process => (\n          <Option key={process._id} value={process._id} number={process.description}>\n            {process.description}\n          </Option>\n        ))}\n      </Select>\n\n      <StatusImpugnationDrawer ref={statusImpeachmentDrawerRef} afterSave={afterSave}/>\n    </>\n  )\n}\n\nexport default StatusImpeachmentInput\n"]},"metadata":{},"sourceType":"module"}