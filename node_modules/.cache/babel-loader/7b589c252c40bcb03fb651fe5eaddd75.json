{"ast":null,"code":"import _toConsumableArray from\"/Users/raphael/Documents/Github/FrontSistemadoPerito/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/raphael/Documents/Github/FrontSistemadoPerito/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"/Users/raphael/Documents/Github/FrontSistemadoPerito/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React,{useRef}from'react';import{Select}from'antd';import{PlusOutlined}from'@ant-design/icons';import{UnstyledButton}from'Components/SistemaDoPerito';import{deburr}from'lodash';import useGetProcessFinancialSituations from'./useGetProcessFinancialSituations';import ProcessFinancialSituationDrawer from'Components/Drawers/ProcessFinancialSituation/ProcessFinancialSituation';import{useUserSelector}from'Redux/UserReducer';// TODO: Ajustar props\nvar ProcessFinancialSituationInput=function ProcessFinancialSituationInput(_ref){var show_create_button=_ref.show_create_button,query_options=_ref.query_options,props=_objectWithoutProperties(_ref,[\"show_create_button\",\"query_options\"]);var plan_modules=useUserSelector(function(state){var _state$company;return(_state$company=state.company)===null||_state$company===void 0?void 0:_state$company.plan.modules;});var permissions=useUserSelector(function(state){return state.permissions;});var processFinancialSituationDrawerRef=useRef(null);var _useGetProcessFinanci=useGetProcessFinancialSituations(query_options),_useGetProcessFinanci2=_slicedToArray(_useGetProcessFinanci,2),_useGetProcessFinanci3=_useGetProcessFinanci2[0],data=_useGetProcessFinanci3.data,loading=_useGetProcessFinanci3.loading,refetch=_useGetProcessFinanci2[1];var financial_situations=data||[];var onCreateClick=function onCreateClick(){var _processFinancialSitu;(_processFinancialSitu=processFinancialSituationDrawerRef.current)===null||_processFinancialSitu===void 0?void 0:_processFinancialSitu.open();};var afterSave=function afterSave(situation){refetch();var value=props.mode==='multiple'||props.mode==='tags'?[].concat(_toConsumableArray(props.value),[situation._id]):situation._id;if(props.onChange)props.onChange(value,{children:situation.description,value:situation._id});};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Select,Object.assign({style:{width:'100%'},loading:loading,placeholder:\"Situa\\xE7\\xE3o Financeira do Processo\",showSearch:true,filterOption:function filterOption(raw_value,option){var value=deburr(raw_value).toLowerCase();var option_value=deburr(option===null||option===void 0?void 0:option.children).toLowerCase();return option_value.indexOf(value)>=0;},dropdownRender:function dropdownRender(menu){return/*#__PURE__*/React.createElement(\"div\",null,menu,show_create_button&&(plan_modules===null||plan_modules===void 0?void 0:plan_modules.Register)&&(permissions===null||permissions===void 0?void 0:permissions.processFinancialSituation.create)&&/*#__PURE__*/React.createElement(UnstyledButton,{style:{display:'block',padding:8},className:\"no-decoration\",onClick:onCreateClick},/*#__PURE__*/React.createElement(PlusOutlined,null),\" Nova situa\\xE7\\xE3o financeira de processo\"));}},props),financial_situations.map(function(financial_situation){return/*#__PURE__*/React.createElement(Select.Option,{key:financial_situation._id,value:financial_situation._id,description:financial_situation.description},financial_situation.description);})),/*#__PURE__*/React.createElement(ProcessFinancialSituationDrawer,{ref:processFinancialSituationDrawerRef,afterSave:afterSave}));};export default ProcessFinancialSituationInput;","map":null,"metadata":{},"sourceType":"module"}