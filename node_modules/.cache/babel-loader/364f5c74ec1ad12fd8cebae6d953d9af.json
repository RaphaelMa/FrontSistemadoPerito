{"ast":null,"code":"(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { useUserSelector } from '../Redux/UserReducer';\n\nconst useSaveStorage = (key, initial_values) => {\n  const company = useUserSelector(state => state.company);\n  const buildKey = useCallback(() => `${company === null || company === void 0 ? void 0 : company.email}:${key}`, [company, key]);\n  const [state, setState] = useState(() => {\n    try {\n      const item = window.localStorage.getItem(key);\n      return item ? JSON.parse(item) : initial_values;\n    } catch (error) {\n      console.log(error);\n      return initial_values;\n    }\n  });\n  useEffect(() => {\n    window.localStorage.setItem(buildKey(), JSON.stringify(state));\n  }, [buildKey, key, state]);\n  return [state, setState];\n};\n\n__signature__(useSaveStorage, \"useUserSelector{company}\\nuseCallback{buildKey}\\nuseState{[state, setState](() => {\\n    try {\\n      const item = window.localStorage.getItem(key)\\n\\n      return item ? JSON.parse(item) : initial_values\\n    } catch (error) {\\n      console.log(error)\\n      return initial_values\\n    }\\n  })}\\nuseEffect{}\", () => [useUserSelector]);\n\nconst _default = useSaveStorage;\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(useSaveStorage, \"useSaveStorage\", \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Utils/useSaveStorage.ts\");\n  reactHotLoader.register(_default, \"default\", \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Utils/useSaveStorage.ts\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Utils/useSaveStorage.ts"],"names":["useState","useEffect","useCallback","useUserSelector","useSaveStorage","key","initial_values","company","state","buildKey","email","setState","item","window","localStorage","getItem","JSON","parse","error","console","log","setItem","stringify"],"mappings":";;;;;;;;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,WAA9B,QAAiD,OAAjD;AACA,SAASC,eAAT,QAAgC,sBAAhC;;AAEA,MAAMC,cAAc,GAAG,CAAmBC,GAAnB,EAAgCC,cAAhC,KAAsD;AAC3E,QAAMC,OAAO,GAAGJ,eAAe,CAACK,KAAK,IAAIA,KAAK,CAACD,OAAhB,CAA/B;AAEA,QAAME,QAAQ,GAAGP,WAAW,CAAC,MAAO,GAAEK,OAAH,aAAGA,OAAH,uBAAGA,OAAO,CAAEG,KAAM,IAAGL,GAAI,EAAhC,EAAmC,CAACE,OAAD,EAAUF,GAAV,CAAnC,CAA5B;AAEA,QAAM,CAACG,KAAD,EAAQG,QAAR,IAAoBX,QAAQ,CAAI,MAAM;AAC1C,QAAI;AACF,YAAMY,IAAI,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4BV,GAA5B,CAAb;AAEA,aAAOO,IAAI,GAAGI,IAAI,CAACC,KAAL,CAAWL,IAAX,CAAH,GAAsBN,cAAjC;AACD,KAJD,CAIE,OAAOY,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,aAAOZ,cAAP;AACD;AACF,GATiC,CAAlC;AAWAL,EAAAA,SAAS,CAAC,MAAM;AACdY,IAAAA,MAAM,CAACC,YAAP,CAAoBO,OAApB,CAA4BZ,QAAQ,EAApC,EAAwCO,IAAI,CAACM,SAAL,CAAed,KAAf,CAAxC;AACD,GAFQ,EAEN,CAACC,QAAD,EAAWJ,GAAX,EAAgBG,KAAhB,CAFM,CAAT;AAIA,SAAO,CAACA,KAAD,EAAQG,QAAR,CAAP;AACD,CArBD;;cAAMP,c,kUACYD,e;;iBAsBHC,c;AAAf;;;;;;;;;;0BAvBMA,c","sourcesContent":["import { useState, useEffect, useCallback } from 'react'\nimport { useUserSelector } from '../Redux/UserReducer'\n\nconst useSaveStorage = <T extends object>(key: string, initial_values: T) => {\n  const company = useUserSelector(state => state.company)\n\n  const buildKey = useCallback(() => `${company?.email}:${key}`, [company, key])\n\n  const [state, setState] = useState<T>(() => {\n    try {\n      const item = window.localStorage.getItem(key)\n\n      return item ? JSON.parse(item) : initial_values\n    } catch (error) {\n      console.log(error)\n      return initial_values\n    }\n  })\n\n  useEffect(() => {\n    window.localStorage.setItem(buildKey(), JSON.stringify(state))\n  }, [buildKey, key, state])\n\n  return [state, setState]\n}\n\nexport default useSaveStorage\n"]},"metadata":{},"sourceType":"module"}