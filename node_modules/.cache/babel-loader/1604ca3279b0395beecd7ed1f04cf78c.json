{"ast":null,"code":"import React from'react';import{Form,Divider,Row,Col,Button}from'antd';import Card from'./Card';import{DeleteOutlined}from'@ant-design/icons';import{theme}from'Styles/theme';import PersonInput from'Components/Inputs/PersonInput/PersonInput';import PersonKindInput from'Components/Inputs/PersonKindInput/PersonKindInput';var PeopleCard=function PeopleCard(_ref){var title=_ref.title,field_name=_ref.field_name,options=_ref.options,refetch=_ref.refetch,loading=_ref.loading;return/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(Divider,{orientation:\"left\"},title),/*#__PURE__*/React.createElement(Form.List,{name:field_name},function(fields,_ref2){var add=_ref2.add,remove=_ref2.remove;return/*#__PURE__*/React.createElement(\"div\",null,fields.map(function(field){return/*#__PURE__*/React.createElement(Row,{key:field.fieldKey,gutter:8},/*#__PURE__*/React.createElement(Form.Item,{noStyle:true,shouldUpdate:function shouldUpdate(prev_values,cur_values){var _prev_values$field_na,_cur_values$field_nam,_prev_values$field_na2,_cur_values$field_nam2;var prev_kind=(_prev_values$field_na=prev_values[field_name][field.fieldKey])===null||_prev_values$field_na===void 0?void 0:_prev_values$field_na.kindPeopleId;var cur_kind=(_cur_values$field_nam=cur_values[field_name][field.fieldKey])===null||_cur_values$field_nam===void 0?void 0:_cur_values$field_nam.kindPeopleId;var prev_people=(_prev_values$field_na2=prev_values[field_name][field.fieldKey])===null||_prev_values$field_na2===void 0?void 0:_prev_values$field_na2.peopleId;var cur_people=(_cur_values$field_nam2=cur_values[field_name][field.fieldKey])===null||_cur_values$field_nam2===void 0?void 0:_cur_values$field_nam2.peopleId;return prev_kind!==cur_kind||prev_people!==cur_people;}},function(_ref3){var getFieldValue=_ref3.getFieldValue;var has_kind_people=!!getFieldValue([field_name,field.fieldKey,'kindPeopleId']);var has_people=!!getFieldValue([field_name,field.fieldKey,'peopleId']);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Col,{span:8},/*#__PURE__*/React.createElement(Form.Item,Object.assign({},field,{name:[field.name,'kindPeopleId'],fieldKey:[field.fieldKey,'kindPeopleId'],rules:[{required:has_people,message:'Campo obrigatório'}]}),/*#__PURE__*/React.createElement(PersonKindInput,{show_create_button:true}))),/*#__PURE__*/React.createElement(Col,{span:14},/*#__PURE__*/React.createElement(Form.Item,Object.assign({},field,{name:[field.name,'peopleId'],fieldKey:[field.fieldKey,'peopleId'],rules:[{required:has_kind_people,message:'Campo obrigatório'}]}),/*#__PURE__*/React.createElement(PersonInput,{with_users:true,show_create_button:true,person_options:options,fetch_options:false,refetch:refetch,external_loading:loading}))));}),/*#__PURE__*/React.createElement(Col,{span:2},/*#__PURE__*/React.createElement(DeleteOutlined,{style:{marginTop:'8px',color:theme.colors.red},onClick:function onClick(){return remove(field.name);}})));}),/*#__PURE__*/React.createElement(Button,{type:\"primary\",onClick:function onClick(){return add();}},\"Nova Pessoa\"));}));};PeopleCard.displayName=\"PeopleCard\";export default PeopleCard;","map":null,"metadata":{},"sourceType":"module"}