{"ast":null,"code":"var _jsxFileName = \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Components/Drawers/JudicialDistrictLevel/JudicialDistrictLevel.tsx\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport React, { forwardRef, useImperativeHandle, useState } from 'react';\nimport { Button, Drawer, Form, message, Spin } from 'antd';\nimport JudicialDistrictLevelForm from './JudicialDistrictLevelForm';\nimport styled from 'styled-components';\nimport useSaveJudicialDistrictLevel from './useSaveJudicialDistrictLevel';\nimport messageError from 'Utils/messageError';\nimport useGetData from './useGetData';\nimport successModal from 'Utils/successModal';\n\nconst JudicialDistrictLevel = ({\n  afterSave,\n  judicialDistrictId\n}, ref) => {\n  const [visible, setVisible] = useState(false);\n  const [form] = Form.useForm();\n  const [mutationSave, saving] = useSaveJudicialDistrictLevel();\n  const [getData, loading] = useGetData();\n\n  const loadData = async id => {\n    try {\n      const {\n        data: {\n          judicialDistrictLevel\n        }\n      } = await getData(id);\n      form.setFieldsValue(judicialDistrictLevel);\n    } catch (e) {\n      messageError('2908202219');\n    }\n  };\n\n  const open = id => {\n    if (id) {\n      loadData(id);\n    }\n\n    setVisible(true);\n  };\n\n  const close = () => {\n    setVisible(false);\n    setTimeout(() => form.resetFields(), 300);\n  };\n\n  useImperativeHandle(ref, () => ({\n    open,\n    close\n  }));\n\n  const save = async values => {\n    const data_normalized = { ...values,\n      judicialDistrict: {\n        judicialDistrictId\n      }\n    };\n\n    try {\n      const {\n        data\n      } = await mutationSave(data_normalized);\n\n      if (!data.success) {\n        message.error(data.message);\n        return;\n      }\n\n      successModal({\n        content: 'Vara salva com sucesso'\n      });\n      afterSave && afterSave(data.judicialDistrictLevel);\n      close();\n    } catch (e) {\n      messageError('3008201803');\n    }\n  };\n\n  const handleSave = () => {\n    form.validateFields().then(values => save(values));\n  };\n\n  return /*#__PURE__*/React.createElement(Drawer, {\n    visible: visible,\n    onClose: close,\n    title: \"Vara\",\n    width: 700,\n    footer: /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: close,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }\n    }, \"Cancelar\"), /*#__PURE__*/React.createElement(Button, {\n      loading: saving || loading,\n      onClick: handleSave,\n      type: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }\n    }, \"Salvar\")),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Spin, {\n    spinning: loading || saving,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(JudicialDistrictLevelForm, {\n    form: form,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  })));\n};\n\n__signature__(JudicialDistrictLevel, \"useState{[visible, setVisible](false)}\\nuseForm{[form]}\\nuseSaveJudicialDistrictLevel{[mutationSave, saving]}\\nuseGetData{[getData, loading]}\\nuseImperativeHandle{}\", () => [useSaveJudicialDistrictLevel, useGetData, useImperativeHandle]);\n\nJudicialDistrictLevel.displayName = \"JudicialDistrictLevel\";\n\nconst _default = forwardRef(JudicialDistrictLevel);\n\nexport default _default;\nconst Footer = styled.div.withConfig({\n  displayName: \"JudicialDistrictLevel__Footer\",\n  componentId: \"sc-92gay8-0\"\n})([\"text-align:right;button + button{margin-left:8px;}\"]);\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(JudicialDistrictLevel, \"JudicialDistrictLevel\", \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Components/Drawers/JudicialDistrictLevel/JudicialDistrictLevel.tsx\");\n  reactHotLoader.register(Footer, \"Footer\", \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Components/Drawers/JudicialDistrictLevel/JudicialDistrictLevel.tsx\");\n  reactHotLoader.register(_default, \"default\", \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Components/Drawers/JudicialDistrictLevel/JudicialDistrictLevel.tsx\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Components/Drawers/JudicialDistrictLevel/JudicialDistrictLevel.tsx"],"names":["React","forwardRef","useImperativeHandle","useState","Button","Drawer","Form","message","Spin","JudicialDistrictLevelForm","styled","useSaveJudicialDistrictLevel","messageError","useGetData","successModal","JudicialDistrictLevel","afterSave","judicialDistrictId","ref","visible","setVisible","form","useForm","mutationSave","saving","getData","loading","loadData","id","data","judicialDistrictLevel","setFieldsValue","e","open","close","setTimeout","resetFields","save","values","data_normalized","judicialDistrict","success","error","content","handleSave","validateFields","then","Footer","div"],"mappings":"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","sourcesContent":["import React, { forwardRef, useImperativeHandle, useState } from 'react'\nimport { Button, Drawer, Form, message, Spin } from 'antd'\nimport JudicialDistrictLevelForm from './JudicialDistrictLevelForm'\nimport styled from 'styled-components'\nimport useSaveJudicialDistrictLevel from './useSaveJudicialDistrictLevel'\nimport { JudicialDistrictLevelType } from './types'\nimport messageError from 'Utils/messageError'\nimport useGetData from './useGetData'\nimport successModal from 'Utils/successModal'\n\ntype OpenType = (id?: string) => void\n\nexport type JudicialDistrictDrawerType = {\n  open: OpenType\n  close: () => void,\n}\n\ntype Props = {\n  afterSave: (person: Omit<JudicialDistrictLevelType, '_id'> & { _id: string }) => void,\n  judicialDistrictId: string\n}\n\nconst JudicialDistrictLevel: React.ForwardRefRenderFunction<JudicialDistrictDrawerType, Props> = ({ afterSave, judicialDistrictId }, ref) => {\n  const [visible, setVisible] = useState(false)\n  const [form] = Form.useForm()\n  const [mutationSave, saving] = useSaveJudicialDistrictLevel()\n  const [getData, loading] = useGetData()\n\n  const loadData = async (id: string) => {\n    try {\n      const { data: { judicialDistrictLevel } } = await getData(id)\n\n      form.setFieldsValue(judicialDistrictLevel)\n    } catch (e) {\n      messageError('2908202219')\n    }\n  }\n\n  const open: OpenType = (id?: string) => {\n    if (id) {\n      loadData(id)\n    }\n\n    setVisible(true)\n  }\n\n  const close = () => {\n    setVisible(false)\n    setTimeout(() => form.resetFields(), 300)\n  }\n\n  useImperativeHandle(ref, () => ({ open, close }))\n\n  const save = async (values: JudicialDistrictLevelType) => {\n    const data_normalized = {\n      ...values,\n      judicialDistrict: {\n        judicialDistrictId,\n      },\n    }\n\n    try {\n      const { data } = await mutationSave(data_normalized)\n\n      if (!data.success) {\n        message.error(data.message)\n        return\n      }\n\n      successModal({ content: 'Vara salva com sucesso' })\n      afterSave && afterSave(data.judicialDistrictLevel)\n      close()\n    } catch (e) {\n      messageError('3008201803')\n    }\n  }\n\n  const handleSave = () => {\n    form.validateFields()\n      .then(values => save(values as JudicialDistrictLevelType))\n  }\n\n  return (\n    <Drawer\n      visible={visible}\n      onClose={close}\n      title=\"Vara\"\n      width={700}\n      footer={\n        <Footer>\n          <Button onClick={close}>Cancelar</Button>\n          <Button loading={saving || loading} onClick={handleSave} type=\"primary\">Salvar</Button>\n        </Footer>\n      }\n    >\n      <Spin spinning={loading || saving}>\n        <JudicialDistrictLevelForm form={form}/>\n      </Spin>\n    </Drawer>\n  )\n}\n\nexport default forwardRef(JudicialDistrictLevel)\n\nconst Footer = styled.div`\n  text-align: right;\n\n  button + button {\n    margin-left: 8px;\n  }\n`\n"]},"metadata":{},"sourceType":"module"}