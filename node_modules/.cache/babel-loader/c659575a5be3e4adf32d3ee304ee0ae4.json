{"ast":null,"code":"var _getToken;\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport { useSelector, useDispatch } from 'react-redux';\nimport { createStore } from 'redux';\nimport { setAxiosToken } from 'Utils/axios_configuration';\nimport { getToken, setToken } from 'Utils/user_token';\nconst INITIAL_STATE = {\n  is_authenticated: !!((_getToken = getToken()) === null || _getToken === void 0 ? void 0 : _getToken.token),\n  loading: false,\n  trial_rest_days: 0,\n  account_verified: true,\n  show_welcome_modal: false,\n  has_open_payments: false\n};\nexport const useUserSelector = useSelector;\nexport const useUserDispatch = useDispatch;\n\nconst userReducer = (state = INITIAL_STATE, action) => {\n  var _state$company;\n\n  switch (action.type) {\n    case 'LOGIN':\n      setToken(action.payload.token, action.payload.remember);\n      setAxiosToken();\n      return { ...state,\n        is_authenticated: true\n      };\n\n    case 'LOGOUT':\n      localStorage.removeItem('token');\n      localStorage.removeItem(`${(_state$company = state.company) === null || _state$company === void 0 ? void 0 : _state$company.email}:process-filters-list`);\n      return { ...state,\n        is_authenticated: false\n      };\n\n    case 'SET_LOADING':\n      return { ...state,\n        loading: action.payload\n      };\n\n    case 'SET_INITIAL_DATA':\n      const {\n        company,\n        trial_rest_days,\n        permissions,\n        birthday,\n        kindUser,\n        userName\n      } = action.payload;\n      const account_verified = company.activeCode;\n      const show_welcome_modal = company.welcome;\n      return { ...state,\n        company,\n        trial_rest_days,\n        account_verified,\n        show_welcome_modal,\n        loading: false,\n        birthday,\n        permissions,\n        kindUser\n      };\n\n    case 'SET_ACTIVE_ACCOUNT':\n      return { ...state,\n        account_verified: action.payload\n      };\n\n    case 'SET_SHOW_WELCOME_MODAL':\n      return { ...state,\n        show_welcome_modal: action.payload\n      };\n\n    case 'UPDATE_COMPANY':\n      return { ...state,\n        company: action.payload\n      };\n\n    case 'SET_TRIAL':\n      const {\n        company: old_company\n      } = state;\n      const new_company = { ...old_company,\n        trial: action.payload.trial\n      };\n      return { ...state,\n        company: new_company,\n        trial_rest_days: action.payload.days\n      };\n\n    case 'SET_HAS_OPEN_PAYMENTS':\n      return { ...state,\n        has_open_payments: action.payload\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst store = createStore(userReducer);\nconst _default = store;\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(INITIAL_STATE, \"INITIAL_STATE\", \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Redux/UserReducer.ts\");\n  reactHotLoader.register(useUserSelector, \"useUserSelector\", \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Redux/UserReducer.ts\");\n  reactHotLoader.register(useUserDispatch, \"useUserDispatch\", \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Redux/UserReducer.ts\");\n  reactHotLoader.register(userReducer, \"userReducer\", \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Redux/UserReducer.ts\");\n  reactHotLoader.register(store, \"store\", \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Redux/UserReducer.ts\");\n  reactHotLoader.register(_default, \"default\", \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Redux/UserReducer.ts\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Redux/UserReducer.ts"],"names":["useSelector","useDispatch","createStore","setAxiosToken","getToken","setToken","INITIAL_STATE","is_authenticated","token","loading","trial_rest_days","account_verified","show_welcome_modal","has_open_payments","useUserSelector","useUserDispatch","userReducer","state","action","type","payload","remember","localStorage","removeItem","company","email","permissions","birthday","kindUser","userName","activeCode","welcome","old_company","new_company","trial","days","store"],"mappings":"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","sourcesContent":["import { TypedUseSelectorHook, useSelector, useDispatch } from 'react-redux'\nimport { createStore } from 'redux'\nimport { setAxiosToken } from 'Utils/axios_configuration'\nimport { UserStateType, CompanyType, PermissionsType, kindUserType } from './Types'\nimport { getToken, setToken } from 'Utils/user_token'\n\nconst INITIAL_STATE: UserStateType = {\n  is_authenticated: !!getToken()?.token,\n  loading: false,\n  trial_rest_days: 0,\n  account_verified: true,\n  show_welcome_modal: false,\n  has_open_payments: false\n}\n\nexport type UserActionType =\n  | { type: 'LOGIN', payload: { token: string, remember: boolean } }\n  | { type: 'LOGOUT' }\n  | { type: 'SET_LOADING', payload: boolean }\n  | { type: 'SET_INITIAL_DATA', payload: { company: CompanyType, trial_rest_days: number, permissions: PermissionsType, birthday: string, kindUser: kindUserType, userName: string } }\n  | { type: 'UPDATE_COMPANY', payload: CompanyType }\n  | { type: 'SET_ACTIVE_ACCOUNT', payload: boolean }\n  | { type: 'SET_SHOW_WELCOME_MODAL', payload: boolean }\n  | { type: 'SET_TRIAL', payload: { trial: boolean, days: number } }\n  | { type: 'SET_HAS_OPEN_PAYMENTS', payload: boolean }\n\ntype useUserDispatchType = () => (action: UserActionType) => void\n\nexport const useUserSelector: TypedUseSelectorHook<UserStateType> = useSelector\n\nexport const useUserDispatch: useUserDispatchType = useDispatch\n\nconst userReducer = (state = INITIAL_STATE, action: UserActionType) => {\n  switch (action.type) {\n    case 'LOGIN':\n      setToken(action.payload.token, action.payload.remember)\n      setAxiosToken()\n\n      return { ...state, is_authenticated: true }\n    case 'LOGOUT':\n      localStorage.removeItem('token')\n      localStorage.removeItem(`${state.company?.email}:process-filters-list`)\n\n      return { ...state, is_authenticated: false }\n    case 'SET_LOADING':\n      return { ...state, loading: action.payload }\n    case 'SET_INITIAL_DATA':\n      const { company, trial_rest_days, permissions, birthday, kindUser, userName } = action.payload\n      const account_verified = company.activeCode\n      const show_welcome_modal = company.welcome\n\n      return {\n        ...state,\n        company,\n        trial_rest_days,\n        account_verified,\n        show_welcome_modal,\n        loading: false,\n        birthday,\n        permissions,\n        kindUser\n      }\n    case 'SET_ACTIVE_ACCOUNT':\n      return { ...state, account_verified: action.payload }\n    case 'SET_SHOW_WELCOME_MODAL':\n      return { ...state, show_welcome_modal: action.payload }\n    case 'UPDATE_COMPANY':\n      return { ...state, company: action.payload }\n    case 'SET_TRIAL':\n      const { company: old_company } = state\n      const new_company = { ...old_company!, trial: action.payload.trial }\n      return { ...state, company: new_company, trial_rest_days: action.payload.days }\n    case 'SET_HAS_OPEN_PAYMENTS':\n      return { ...state, has_open_payments: action.payload }\n    default:\n      return state\n  }\n}\n\nconst store = createStore(userReducer)\n\nexport default store"]},"metadata":{},"sourceType":"module"}