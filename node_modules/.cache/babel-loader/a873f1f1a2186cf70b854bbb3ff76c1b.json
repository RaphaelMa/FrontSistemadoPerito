{"ast":null,"code":"import React,{memo}from'react';import{Table}from'antd';import styled from'styled-components';import useColumns from'./useColumns';var HistoryTable=function HistoryTable(_ref){var _divRef$current;var data=_ref.data,loading=_ref.loading,divRef=_ref.divRef;var columns=useColumns();var height=(((_divRef$current=divRef.current)===null||_divRef$current===void 0?void 0:_divRef$current.clientHeight)||0)-40;return/*#__PURE__*/React.createElement(StyledTable,{style:{flex:'auto',width:0},className:\"header-align-center\",columns:columns,dataSource:data,loading:loading,rowKey:\"_id\",tableLayout:\"fixed\",size:\"middle\",bordered:true,pagination:{hideOnSinglePage:true,showTotal:function showTotal(total){return\"\".concat(total,\" no total\");},showSizeChanger:true,pageSizeOptions:['10','20','40','50','100']},scroll:{y:height},expandable:{rowExpandable:function rowExpandable(history){return history.record.length>0;},expandedRowRender:function expandedRowRender(history){return history.record.map(function(record,index){var _record$description;return/*#__PURE__*/React.createElement(HistoryItem,{key:index},(_record$description=record.description)===null||_record$description===void 0?void 0:_record$description.split(/\\\\n|\\n/).map(function(description,index){return/*#__PURE__*/React.createElement(\"div\",{key:\"\".concat(index,\"-\").concat(record._id),className:index===0?'first':'extra-info'},description);}));});}}});};HistoryTable.displayName=\"HistoryTable\";export default memo(HistoryTable);var StyledTable=styled(Table).withConfig({displayName:\"HistoryTable__StyledTable\",componentId:\"p2vbpg-0\"})([\".ant-table-container,.ant-spin-nested-loading,.ant-table,.ant-spin-container{height:calc(100% - 48px);}.ant-table-thead{th{text-align:center;}}.ant-table-body{height:100%;}\"]);var HistoryItem=styled.p.withConfig({displayName:\"HistoryTable__HistoryItem\",componentId:\"p2vbpg-1\"})([\"&::before{content:'';display:inline-block;width:7px;height:7px;border-radius:50%;background-color:\",\";margin-right:5px;}div.first{display:inline;}div.extra-info{display:block;margin-left:20px;}\"],function(p){return p.theme.colors.primary;});","map":null,"metadata":{},"sourceType":"module"}