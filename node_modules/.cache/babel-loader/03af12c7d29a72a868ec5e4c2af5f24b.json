{"ast":null,"code":"import _objectSpread from\"/Users/raphael/Documents/Github/FrontSistemadoPerito/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";var _getToken;import{useSelector,useDispatch}from'react-redux';import{createStore}from'redux';import{setAxiosToken}from'Utils/axios_configuration';import{getToken,setToken}from'Utils/user_token';var INITIAL_STATE={is_authenticated:!!((_getToken=getToken())===null||_getToken===void 0?void 0:_getToken.token),loading:false,trial_rest_days:0,account_verified:true,show_welcome_modal:false,has_open_payments:false};export var useUserSelector=useSelector;export var useUserDispatch=useDispatch;var userReducer=function userReducer(){var _state$company;var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:INITIAL_STATE;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case'LOGIN':setToken(action.payload.token,action.payload.remember);setAxiosToken();return _objectSpread({},state,{is_authenticated:true});case'LOGOUT':localStorage.removeItem('token');localStorage.removeItem(\"\".concat((_state$company=state.company)===null||_state$company===void 0?void 0:_state$company.email,\":process-filters-list\"));return _objectSpread({},state,{is_authenticated:false});case'SET_LOADING':return _objectSpread({},state,{loading:action.payload});case'SET_INITIAL_DATA':var _action$payload=action.payload,company=_action$payload.company,trial_rest_days=_action$payload.trial_rest_days,permissions=_action$payload.permissions,birthday=_action$payload.birthday,kindUser=_action$payload.kindUser,userName=_action$payload.userName;var account_verified=company.activeCode;var show_welcome_modal=company.welcome;return _objectSpread({},state,{company:company,trial_rest_days:trial_rest_days,account_verified:account_verified,show_welcome_modal:show_welcome_modal,loading:false,birthday:birthday,permissions:permissions,kindUser:kindUser});case'SET_ACTIVE_ACCOUNT':return _objectSpread({},state,{account_verified:action.payload});case'SET_SHOW_WELCOME_MODAL':return _objectSpread({},state,{show_welcome_modal:action.payload});case'UPDATE_COMPANY':return _objectSpread({},state,{company:action.payload});case'SET_TRIAL':var old_company=state.company;var new_company=_objectSpread({},old_company,{trial:action.payload.trial});return _objectSpread({},state,{company:new_company,trial_rest_days:action.payload.days});case'SET_HAS_OPEN_PAYMENTS':return _objectSpread({},state,{has_open_payments:action.payload});default:return state;}};var store=createStore(userReducer);export default store;","map":null,"metadata":{},"sourceType":"module"}