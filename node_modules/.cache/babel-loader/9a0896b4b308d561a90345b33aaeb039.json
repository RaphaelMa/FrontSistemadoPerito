{"ast":null,"code":"var _jsxFileName = \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Components/Modals/Deadline/DeadlineModal.tsx\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport React, { forwardRef, useCallback, useImperativeHandle, useState } from 'react';\nimport { Modal, Spin, Form, Button } from 'antd';\nimport useGetDeadline from './useGetDeadline';\nimport DeadlineForm from './DeadlineForm';\nimport moment from 'moment';\nimport messageError from 'Utils/messageError';\n\nconst DeadlineModal = (_, ref) => {\n  const [form] = Form.useForm();\n  const {\n    resetFields,\n    setFieldsValue\n  } = form;\n  const [process_id, setProcessId] = useState();\n  const [loading, getDeadline] = useGetDeadline();\n  const [visible, setVisible] = useState(false);\n  const formatDate = useCallback(date => {\n    if (!date) return undefined;\n    return moment(date).format('DD/MM/YYYY');\n  }, []);\n  const open = useCallback(async id => {\n    setVisible(true);\n    setProcessId(id);\n\n    try {\n      const {\n        data\n      } = await getDeadline(id);\n      const {\n        deadeLine_date,\n        deliveryImpugnment,\n        previsionImpugnment,\n        clarificationImpugnment,\n        clarificationDeliveryImpugnment,\n        previsionReport,\n        deliveryReport,\n        clarificationReport,\n        clarificationDeliveryReport,\n        ...rest\n      } = (data === null || data === void 0 ? void 0 : data.message) || {};\n      const deadline = { ...rest,\n        deadeLine_date: formatDate(deadeLine_date),\n        deliveryImpugnment: formatDate(deliveryImpugnment),\n        previsionImpugnment: formatDate(previsionImpugnment),\n        clarificationImpugnment: formatDate(clarificationImpugnment),\n        clarificationDeliveryImpugnment: formatDate(clarificationDeliveryImpugnment),\n        previsionReport: formatDate(previsionReport),\n        deliveryReport: formatDate(deliveryReport),\n        clarificationReport: formatDate(clarificationReport),\n        clarificationDeliveryReport: formatDate(clarificationDeliveryReport)\n      };\n      setFieldsValue(deadline);\n    } catch (error) {\n      messageError('202104141910');\n      console.log(error);\n    }\n  }, [formatDate, getDeadline, setFieldsValue]);\n  const close = useCallback(() => {\n    setVisible(false);\n  }, []);\n  useImperativeHandle(ref, () => ({\n    open,\n    close\n  }));\n  return /*#__PURE__*/React.createElement(Modal, {\n    visible: visible,\n    onCancel: close,\n    centered: true,\n    width: 1240,\n    footer: /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      href: `process/${process_id}`,\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }\n    }, \"Ir para Processo\")),\n    afterClose: () => {\n      resetFields();\n      setProcessId(undefined);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Spin, {\n    spinning: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    form: form,\n    layout: \"vertical\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DeadlineForm, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }))));\n};\n\n__signature__(DeadlineModal, \"useForm{[form]}\\nuseState{[process_id, setProcessId]}\\nuseGetDeadline{[loading, getDeadline]}\\nuseState{[visible, setVisible](false)}\\nuseCallback{formatDate}\\nuseCallback{open: Open}\\nuseCallback{close}\\nuseImperativeHandle{}\", () => [useGetDeadline, useImperativeHandle]);\n\nDeadlineModal.displayName = \"DeadlineModal\";\n\nconst _default = forwardRef(DeadlineModal);\n\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(DeadlineModal, \"DeadlineModal\", \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Components/Modals/Deadline/DeadlineModal.tsx\");\n  reactHotLoader.register(_default, \"default\", \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Components/Modals/Deadline/DeadlineModal.tsx\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Components/Modals/Deadline/DeadlineModal.tsx"],"names":["React","forwardRef","useCallback","useImperativeHandle","useState","Modal","Spin","Form","Button","useGetDeadline","DeadlineForm","moment","messageError","DeadlineModal","_","ref","form","useForm","resetFields","setFieldsValue","process_id","setProcessId","loading","getDeadline","visible","setVisible","formatDate","date","undefined","format","open","id","data","deadeLine_date","deliveryImpugnment","previsionImpugnment","clarificationImpugnment","clarificationDeliveryImpugnment","previsionReport","deliveryReport","clarificationReport","clarificationDeliveryReport","rest","message","deadline","error","console","log","close"],"mappings":"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","sourcesContent":["import React, { forwardRef, useCallback, useImperativeHandle, useState } from 'react'\nimport { Modal, Spin, Form, Button } from 'antd'\nimport useGetDeadline from './useGetDeadline'\nimport DeadlineForm from './DeadlineForm'\nimport moment from 'moment'\nimport messageError from 'Utils/messageError'\n\ntype Open = (id: string) => void\n\nexport type DeadlineModalType = {\n  open: Open,\n  close: () => void\n}\n\nconst DeadlineModal: React.ForwardRefRenderFunction<DeadlineModalType> = (_, ref) => {\n  const [form] = Form.useForm()\n  const { resetFields, setFieldsValue } = form\n\n  const [process_id, setProcessId] = useState<string>()\n\n  const [loading, getDeadline] = useGetDeadline()\n\n  const [visible, setVisible] = useState(false)\n\n  const formatDate = useCallback((date?: string | null) => {\n    if (!date) return undefined\n\n    return moment(date).format('DD/MM/YYYY')\n  }, [])\n\n  const open: Open = useCallback(async (id) => {\n    setVisible(true)\n    setProcessId(id)\n    try {\n      const { data } = await getDeadline(id)\n      const {\n        deadeLine_date, deliveryImpugnment, previsionImpugnment, clarificationImpugnment, clarificationDeliveryImpugnment,\n        previsionReport, deliveryReport, clarificationReport, clarificationDeliveryReport, ...rest\n      } = data?.message || {}\n\n      const deadline = {\n        ...rest,\n        deadeLine_date: formatDate(deadeLine_date),\n        deliveryImpugnment: formatDate(deliveryImpugnment),\n        previsionImpugnment: formatDate(previsionImpugnment),\n        clarificationImpugnment: formatDate(clarificationImpugnment),\n        clarificationDeliveryImpugnment: formatDate(clarificationDeliveryImpugnment),\n        previsionReport: formatDate(previsionReport),\n        deliveryReport: formatDate(deliveryReport),\n        clarificationReport: formatDate(clarificationReport),\n        clarificationDeliveryReport: formatDate(clarificationDeliveryReport),\n      }\n\n      setFieldsValue(deadline)\n    } catch (error) {\n      messageError('202104141910')\n      console.log(error)\n    }\n  }, [formatDate, getDeadline, setFieldsValue])\n\n  const close = useCallback(() => {\n    setVisible(false)\n  }, [])\n\n  useImperativeHandle(ref, () => ({ open, close }))\n\n  return (\n    <Modal\n      visible={visible}\n      onCancel={close}\n      centered={true}\n      width={1240}\n      footer={\n        <div>\n          <Button type=\"primary\" href={`process/${process_id}`} target=\"_blank\" rel=\"noopener noreferrer\">\n            Ir para Processo\n          </Button>\n        </div>\n      }\n      afterClose={() => {\n        resetFields()\n        setProcessId(undefined)\n      }}\n    >\n      <Spin spinning={loading}>\n        <Form form={form} layout=\"vertical\">\n          <DeadlineForm />\n        </Form>\n      </Spin>\n    </Modal>\n  )\n}\n\nexport default forwardRef(DeadlineModal)\n"]},"metadata":{},"sourceType":"module"}