{"ast":null,"code":"var _jsxFileName = \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Pages/ProcessFinancialSituation/ProcessFinancialSituationList.tsx\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport HeaderActions from 'Components/MainList/HeaderActions';\nimport ContainerList from 'Components/MainList/ContainerList';\nimport { filterData, scapeRegex } from 'Utils/functions';\nimport Table from './ProcessFinancialSituationTable';\nimport useColumns from './useColumns';\nimport EmptyComponent from 'Components/EmptyComponent/EmptyComponent';\nimport useGetProcessFinancialSituations from './useGetProcessFinancialSituations';\nimport messageError from 'Utils/messageError';\nimport ProcessFinancialSituationDrawer from 'Components/Drawers/ProcessFinancialSituation/ProcessFinancialSituation';\nimport useDestroyProcessFinancialSituation from './useDestroyProcessFinancialSituation';\nimport { useUserSelector } from 'Redux/UserReducer';\nimport { message } from 'antd';\nimport useExportData from './useExportData';\nconst initial_filters = {\n  search: '',\n  pagination: {\n    current_page: 1,\n    page_size: 20\n  },\n  sort: {\n    field: 'description',\n    order: 'ascend'\n  }\n};\nconst columns_keys = ['description'];\n\nconst ProcessFinancialSituationList = () => {\n  const permissions = useUserSelector(state => state.permissions);\n  const [filters, setFilters] = useState(initial_filters);\n  const [data, setData] = useState([]);\n  const [{\n    loading\n  }, getProcessFinancialSituation] = useGetProcessFinancialSituations();\n  const [destroyProcessFinancialSituation, {\n    loading: destroy_loading\n  }] = useDestroyProcessFinancialSituation();\n  const processFinancialSituationDrawerRef = useRef(null);\n\n  const loadProcessFinancialSituations = async () => {\n    try {\n      const response = await getProcessFinancialSituation();\n      setData(response.data);\n    } catch (error) {\n      messageError('202008252245');\n    }\n  };\n\n  useEffect(() => {\n    loadProcessFinancialSituations(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const onPressEnter = useCallback(value => {\n    setFilters(old_filters => ({ ...old_filters,\n      search: scapeRegex(value)\n    }));\n  }, []);\n\n  const handleOpenDrawer = id => {\n    var _processFinancialSitu;\n\n    (_processFinancialSitu = processFinancialSituationDrawerRef.current) === null || _processFinancialSitu === void 0 ? void 0 : _processFinancialSitu.open(id);\n  };\n\n  const handleDelete = async id => {\n    try {\n      const response = await destroyProcessFinancialSituation(id);\n\n      if (response.data.success) {\n        message.success('Situação financeira excluída com sucesso');\n        setData(prev => prev.filter(financial_situation => financial_situation._id !== id));\n      }\n    } catch (error) {\n      messageError('202008262002');\n    }\n  };\n\n  const handleTableChange = useCallback((pagination, filter, sorter) => {\n    var _sorter$column;\n\n    let internal_filters = filters;\n\n    if (sorter === null || sorter === void 0 ? void 0 : (_sorter$column = sorter.column) === null || _sorter$column === void 0 ? void 0 : _sorter$column.sorter) {\n      internal_filters = { ...internal_filters,\n        sort: {\n          order: sorter.order,\n          field: sorter.field\n        }\n      };\n    }\n\n    internal_filters = { ...internal_filters,\n      pagination: {\n        current_page: pagination.current || internal_filters.pagination.current_page,\n        page_size: pagination.pageSize || internal_filters.pagination.page_size\n      }\n    };\n    setFilters(internal_filters);\n  }, [filters]);\n  const locale = useMemo(() => ({\n    emptyText: (permissions === null || permissions === void 0 ? void 0 : permissions.processFinancialSituation.create) && /*#__PURE__*/React.createElement(EmptyComponent, {\n      onClick: () => handleOpenDrawer(),\n      action_text: \"Nova Situa\\xE7\\xE3o\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }\n    })\n  }), [permissions]);\n\n  const afterSave = financial_situation => {\n    setData(prev => {\n      const prev_financial_situation = data.find(key => key._id === financial_situation._id);\n\n      if (prev_financial_situation) {\n        const financial_situations = prev.filter(key => key._id !== financial_situation._id);\n        return [...financial_situations, financial_situation];\n      }\n\n      return [...prev, financial_situation];\n    });\n  };\n\n  const columns = useColumns({\n    handleDelete,\n    handleEdit: handleOpenDrawer\n  });\n  const filtered_data = useMemo(() => filterData({\n    data,\n    filters,\n    columns_keys\n  }), [filters, data]);\n  const exportToXLS = useExportData(filtered_data);\n  return /*#__PURE__*/React.createElement(ContainerList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(HeaderActions, {\n    onPressEnter: onPressEnter,\n    setFilters: setFilters,\n    placeholder: \"Informe situa\\xE7\\xE3o financeira do processo\",\n    button_text: \"Nova Situa\\xE7\\xE3o Financeira\",\n    handleNew: handleOpenDrawer,\n    has_create_permission: permissions === null || permissions === void 0 ? void 0 : permissions.processFinancialSituation.create,\n    exportToXLS: exportToXLS,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Table, {\n    columns: columns,\n    filtered_data: filtered_data,\n    filters: filters,\n    handleTableChange: handleTableChange,\n    loading: loading || destroy_loading,\n    locale: locale,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(ProcessFinancialSituationDrawer, {\n    ref: processFinancialSituationDrawerRef,\n    afterSave: afterSave,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }\n  }));\n};\n\n__signature__(ProcessFinancialSituationList, \"useUserSelector{permissions}\\nuseState{[filters, setFilters](initial_filters)}\\nuseState{[data, setData]([])}\\nuseGetProcessFinancialSituations{[{ loading }, getProcessFinancialSituation]}\\nuseDestroyProcessFinancialSituation{[destroyProcessFinancialSituation, { loading: destroy_loading }]}\\nuseRef{processFinancialSituationDrawerRef}\\nuseEffect{}\\nuseCallback{onPressEnter}\\nuseCallback{handleTableChange}\\nuseMemo{locale}\\nuseColumns{columns}\\nuseMemo{filtered_data}\\nuseExportData{exportToXLS}\", () => [useUserSelector, useGetProcessFinancialSituations, useDestroyProcessFinancialSituation, useColumns, useExportData]);\n\nProcessFinancialSituationList.displayName = \"ProcessFinancialSituationList\";\nconst _default = ProcessFinancialSituationList;\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(initial_filters, \"initial_filters\", \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Pages/ProcessFinancialSituation/ProcessFinancialSituationList.tsx\");\n  reactHotLoader.register(columns_keys, \"columns_keys\", \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Pages/ProcessFinancialSituation/ProcessFinancialSituationList.tsx\");\n  reactHotLoader.register(ProcessFinancialSituationList, \"ProcessFinancialSituationList\", \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Pages/ProcessFinancialSituation/ProcessFinancialSituationList.tsx\");\n  reactHotLoader.register(_default, \"default\", \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Pages/ProcessFinancialSituation/ProcessFinancialSituationList.tsx\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Pages/ProcessFinancialSituation/ProcessFinancialSituationList.tsx"],"names":["React","useCallback","useEffect","useMemo","useRef","useState","HeaderActions","ContainerList","filterData","scapeRegex","Table","useColumns","EmptyComponent","useGetProcessFinancialSituations","messageError","ProcessFinancialSituationDrawer","useDestroyProcessFinancialSituation","useUserSelector","message","useExportData","initial_filters","search","pagination","current_page","page_size","sort","field","order","columns_keys","ProcessFinancialSituationList","permissions","state","filters","setFilters","data","setData","loading","getProcessFinancialSituation","destroyProcessFinancialSituation","destroy_loading","processFinancialSituationDrawerRef","loadProcessFinancialSituations","response","error","onPressEnter","value","old_filters","handleOpenDrawer","id","current","open","handleDelete","success","prev","filter","financial_situation","_id","handleTableChange","sorter","internal_filters","column","pageSize","locale","emptyText","processFinancialSituation","create","afterSave","prev_financial_situation","find","key","financial_situations","columns","handleEdit","filtered_data","exportToXLS"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useMemo, useRef, useState } from 'react'\nimport { TablePaginationConfig } from 'antd/es/table'\nimport HeaderActions from 'Components/MainList/HeaderActions'\nimport ContainerList from 'Components/MainList/ContainerList'\nimport { filterData, FiltersType, scapeRegex } from 'Utils/functions'\nimport Table from './ProcessFinancialSituationTable'\nimport useColumns from './useColumns'\nimport { ProcessFinancialSituationType } from './types'\nimport EmptyComponent from 'Components/EmptyComponent/EmptyComponent'\nimport useGetProcessFinancialSituations from './useGetProcessFinancialSituations'\nimport messageError from 'Utils/messageError'\nimport ProcessFinancialSituationDrawer, { ProcessFinancialSituationDrawerRefType } from 'Components/Drawers/ProcessFinancialSituation/ProcessFinancialSituation'\nimport useDestroyProcessFinancialSituation from './useDestroyProcessFinancialSituation'\nimport { useUserSelector } from 'Redux/UserReducer'\nimport { message } from 'antd'\nimport useExportData from './useExportData'\n\nconst initial_filters: FiltersType = {\n  search: '',\n  pagination: {\n    current_page: 1,\n    page_size: 20,\n  },\n  sort: {\n    field: 'description',\n    order: 'ascend',\n  },\n}\n\nconst columns_keys = ['description']\n\nconst ProcessFinancialSituationList: React.FC = () => {\n  const permissions = useUserSelector(state => state.permissions)\n\n  const [filters, setFilters] = useState<FiltersType>(initial_filters)\n  const [data, setData] = useState<ProcessFinancialSituationType[]>([])\n  const [{ loading }, getProcessFinancialSituation] = useGetProcessFinancialSituations()\n  const [destroyProcessFinancialSituation, { loading: destroy_loading }] = useDestroyProcessFinancialSituation()\n  const processFinancialSituationDrawerRef = useRef<ProcessFinancialSituationDrawerRefType>(null)\n\n  const loadProcessFinancialSituations = async () => {\n    try {\n      const response = await getProcessFinancialSituation()\n      setData(response.data)\n    } catch (error) {\n      messageError('202008252245')\n    }\n  }\n\n  useEffect(() => {\n    loadProcessFinancialSituations()\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const onPressEnter = useCallback((value: string) => {\n    setFilters((old_filters) => ({ ...old_filters, search: scapeRegex(value) }))\n  }, [])\n\n  const handleOpenDrawer = (id?: string) => {\n    processFinancialSituationDrawerRef.current?.open(id)\n  }\n\n  const handleDelete = async (id: string) => {\n    try {\n      const response = await destroyProcessFinancialSituation(id)\n      if (response.data.success) {\n        message.success('Situação financeira excluída com sucesso')\n        setData((prev) => prev.filter(financial_situation => financial_situation._id !== id))\n      }\n    } catch (error) {\n      messageError('202008262002')\n    }\n  }\n\n  const handleTableChange = useCallback((\n    pagination: TablePaginationConfig,\n    filter: Record<string, React.Key[] | null>,\n    sorter: any,\n  ): void => {\n    let internal_filters: FiltersType = filters\n\n    if (sorter?.column?.sorter) {\n      internal_filters = { ...internal_filters, sort: { order: sorter.order, field: sorter.field } }\n    }\n\n    internal_filters = {\n      ...internal_filters,\n      pagination: {\n        current_page: pagination.current || internal_filters!.pagination!.current_page,\n        page_size: pagination.pageSize || internal_filters!.pagination!.page_size,\n      },\n    }\n    setFilters(internal_filters)\n  }, [filters])\n\n  const locale = useMemo(() => ({\n    emptyText: (\n      permissions?.processFinancialSituation.create && (\n        <EmptyComponent\n          onClick={() => handleOpenDrawer()}\n          action_text=\"Nova Situação\"\n        />\n      )\n    ),\n  }), [permissions])\n\n  const afterSave = (financial_situation: ProcessFinancialSituationType) => {\n    setData(prev => {\n      const prev_financial_situation = data.find(key => key._id === financial_situation._id)\n\n      if (prev_financial_situation) {\n        const financial_situations = prev.filter(key => key._id !== financial_situation._id)\n\n        return [...financial_situations, financial_situation]\n      }\n\n      return [...prev, financial_situation]\n    })\n  }\n\n  const columns = useColumns({ handleDelete, handleEdit: handleOpenDrawer })\n  const filtered_data = useMemo(() => filterData({ data, filters, columns_keys }), [filters, data])\n\n  const exportToXLS = useExportData(filtered_data)\n\n  return (\n    <ContainerList>\n      <HeaderActions\n        onPressEnter={onPressEnter}\n        setFilters={setFilters}\n        placeholder=\"Informe situação financeira do processo\"\n        button_text=\"Nova Situação Financeira\"\n        handleNew={handleOpenDrawer}\n        has_create_permission={permissions?.processFinancialSituation.create}\n        exportToXLS={exportToXLS}\n      />\n      <Table\n        columns={columns}\n        filtered_data={filtered_data}\n        filters={filters}\n        handleTableChange={handleTableChange}\n        loading={loading || destroy_loading}\n        locale={locale}\n      />\n      <ProcessFinancialSituationDrawer ref={processFinancialSituationDrawerRef} afterSave={afterSave}/>\n    </ContainerList>\n  )\n}\n\nexport default ProcessFinancialSituationList\n"]},"metadata":{},"sourceType":"module"}