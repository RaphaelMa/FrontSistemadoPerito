{"ast":null,"code":"import _regeneratorRuntime from\"/Users/raphael/Documents/Github/FrontSistemadoPerito/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/raphael/Documents/Github/FrontSistemadoPerito/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/raphael/Documents/Github/FrontSistemadoPerito/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{Button,message,Popconfirm,Switch,Tooltip}from'antd';import{useUserSelector}from'Redux/UserReducer';import{DeleteOutlined,EditOutlined,StarFilled,ImportOutlined}from'@ant-design/icons';import{theme}from'Styles/theme';import useUpdatePushStatus from'./useUpdatePushStatus';import messageError from'Utils/messageError';import useHandleFavorite from'./useHandleFavorite';import styled from'styled-components';var ActionButtons=function ActionButtons(props){var process=props.process,handleDelete=props.handleDelete,handleEdit=props.handleEdit,updateProcessPushStatus=props.updateProcessPushStatus,updateProcessFavorite=props.updateProcessFavorite;var permissions=useUserSelector(function(state){return state.permissions;});var can_change_push=process.statusImport_key==='imported';var _useUpdatePushStatus=useUpdatePushStatus(),_useUpdatePushStatus2=_slicedToArray(_useUpdatePushStatus,2),updatePushStatus=_useUpdatePushStatus2[0],loading=_useUpdatePushStatus2[1].loading;var _useHandleFavorite=useHandleFavorite(),_useHandleFavorite2=_slicedToArray(_useHandleFavorite,2),handleFavoriteMutation=_useHandleFavorite2[0],favorite_loading=_useHandleFavorite2[1].loading;var handleChangePushStatus=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(value){var _yield$updatePushStat,_yield$updatePushStat2,success,msg;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return updatePushStatus(process._id,value);case 3:_yield$updatePushStat=_context.sent;_yield$updatePushStat2=_yield$updatePushStat.data;success=_yield$updatePushStat2.success;msg=_yield$updatePushStat2.message;if(!success){_context.next=10;break;}updateProcessPushStatus(process._id,value);return _context.abrupt(\"return\");case 10:message.error(msg);_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](0);messageError('202102071449');case 16:case\"end\":return _context.stop();}}},_callee,null,[[0,13]]);}));return function handleChangePushStatus(_x){return _ref.apply(this,arguments);};}();var handleFavoriteProcess=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(value){var _yield$handleFavorite,_yield$handleFavorite2,success,msg;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(value);_context2.prev=1;_context2.next=4;return handleFavoriteMutation(process._id,value);case 4:_yield$handleFavorite=_context2.sent;_yield$handleFavorite2=_yield$handleFavorite.data;success=_yield$handleFavorite2.success;msg=_yield$handleFavorite2.message;if(!success){_context2.next=11;break;}updateProcessFavorite(process._id,value);return _context2.abrupt(\"return\");case 11:message.error(msg);_context2.next=17;break;case 14:_context2.prev=14;_context2.t0=_context2[\"catch\"](1);messageError('202115050159');case 17:case\"end\":return _context2.stop();}}},_callee2,null,[[1,14]]);}));return function handleFavoriteProcess(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",null,(permissions===null||permissions===void 0?void 0:permissions.process.delete)&&/*#__PURE__*/React.createElement(Popconfirm,{title:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",null,\"O processo ser\\xE1 exclu\\xEDdo de todas as tarefas, movimenta\\xE7\\xF5es financeiras e agendamentos em que est\\xE1 atrelado.\"),/*#__PURE__*/React.createElement(\"div\",null,\"Deseja continuar?\")),okText:\"Sim\",cancelText:\"N\\xE3o\",okType:\"danger\",placement:\"topLeft\",onConfirm:function onConfirm(){return handleDelete(process._id);}},/*#__PURE__*/React.createElement(Button,{type:\"text\",icon:/*#__PURE__*/React.createElement(DeleteOutlined,{style:{color:theme.colors.red}})})),(permissions===null||permissions===void 0?void 0:permissions.process.update)&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{type:\"text\",icon:/*#__PURE__*/React.createElement(EditOutlined,{style:{color:theme.colors.primary}}),onClick:function onClick(){return handleEdit(process._id);}}),/*#__PURE__*/React.createElement(Tooltip,{title:\"Abrir o processo em uma nova aba\"},/*#__PURE__*/React.createElement(Button,{type:\"text\",icon:/*#__PURE__*/React.createElement(LinkIcon,{style:{color:theme.colors.primary}}),href:\"/process/\".concat(process._id),target:\"_blank\",rel:\"noopener noreferrer\"})),/*#__PURE__*/React.createElement(Switch,{disabled:!can_change_push,size:\"small\",checked:process.statusProcessMonitoring,loading:loading,onChange:handleChangePushStatus}),/*#__PURE__*/React.createElement(Button,{type:\"text\",icon:/*#__PURE__*/React.createElement(StarFilled,{style:{color:process.favorite?theme.colors.orange:'#e6e6e6'}}),loading:favorite_loading,onClick:function onClick(){return handleFavoriteProcess(!process.favorite);}})));};ActionButtons.displayName=\"ActionButtons\";export default ActionButtons;var LinkIcon=styled(ImportOutlined).withConfig({displayName:\"ActionButtons__LinkIcon\",componentId:\"hxkgcm-0\"})([\"transform:rotateZ(3.142rad);cursor:pointer;\"]);","map":null,"metadata":{},"sourceType":"module"}