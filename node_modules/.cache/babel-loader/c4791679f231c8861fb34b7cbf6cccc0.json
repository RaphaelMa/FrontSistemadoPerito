{"ast":null,"code":"var _jsxFileName = \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Pages/Process/ActionButtons.tsx\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport React from 'react';\nimport { Button, message, Popconfirm, Switch, Tooltip } from 'antd';\nimport { useUserSelector } from 'Redux/UserReducer';\nimport { DeleteOutlined, EditOutlined, StarFilled, ImportOutlined } from '@ant-design/icons';\nimport { theme } from 'Styles/theme';\nimport useUpdatePushStatus from './useUpdatePushStatus';\nimport messageError from 'Utils/messageError';\nimport useHandleFavorite from './useHandleFavorite';\nimport styled from 'styled-components';\n\nconst ActionButtons = props => {\n  const {\n    process,\n    handleDelete,\n    handleEdit,\n    updateProcessPushStatus,\n    updateProcessFavorite\n  } = props;\n  const permissions = useUserSelector(state => state.permissions);\n  const can_change_push = process.statusImport_key === 'imported';\n  const [updatePushStatus, {\n    loading\n  }] = useUpdatePushStatus();\n  const [handleFavoriteMutation, {\n    loading: favorite_loading\n  }] = useHandleFavorite();\n\n  const handleChangePushStatus = async value => {\n    try {\n      const {\n        data: {\n          success,\n          message: msg\n        }\n      } = await updatePushStatus(process._id, value);\n\n      if (success) {\n        updateProcessPushStatus(process._id, value);\n        return;\n      }\n\n      message.error(msg);\n    } catch (error) {\n      messageError('202102071449');\n    }\n  };\n\n  const handleFavoriteProcess = async value => {\n    console.log(value);\n\n    try {\n      const {\n        data: {\n          success,\n          message: msg\n        }\n      } = await handleFavoriteMutation(process._id, value);\n\n      if (success) {\n        updateProcessFavorite(process._id, value);\n        return;\n      }\n\n      message.error(msg);\n    } catch (error) {\n      messageError('202115050159');\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, (permissions === null || permissions === void 0 ? void 0 : permissions.process.delete) && /*#__PURE__*/React.createElement(Popconfirm, {\n    title: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 15\n      }\n    }, \"O processo ser\\xE1 exclu\\xEDdo de todas as tarefas, movimenta\\xE7\\xF5es financeiras e agendamentos em que est\\xE1 atrelado.\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 15\n      }\n    }, \"Deseja continuar?\")),\n    okText: \"Sim\",\n    cancelText: \"N\\xE3o\",\n    okType: \"danger\",\n    placement: \"topLeft\",\n    onConfirm: () => handleDelete(process._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"text\",\n    icon: /*#__PURE__*/React.createElement(DeleteOutlined, {\n      style: {\n        color: theme.colors.red\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 19\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  })), (permissions === null || permissions === void 0 ? void 0 : permissions.process.update) && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    type: \"text\",\n    icon: /*#__PURE__*/React.createElement(EditOutlined, {\n      style: {\n        color: theme.colors.primary\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 19\n      }\n    }),\n    onClick: () => handleEdit(process._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Tooltip, {\n    title: \"Abrir o processo em uma nova aba\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"text\",\n    icon: /*#__PURE__*/React.createElement(LinkIcon, {\n      style: {\n        color: theme.colors.primary\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 21\n      }\n    }),\n    href: `/process/${process._id}`,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Switch, {\n    disabled: !can_change_push,\n    size: \"small\",\n    checked: process.statusProcessMonitoring,\n    loading: loading,\n    onChange: handleChangePushStatus,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: \"text\",\n    icon: /*#__PURE__*/React.createElement(StarFilled, {\n      style: {\n        color: process.favorite ? theme.colors.orange : '#e6e6e6'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 19\n      }\n    }),\n    loading: favorite_loading,\n    onClick: () => handleFavoriteProcess(!process.favorite),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  })));\n};\n\n__signature__(ActionButtons, \"useUserSelector{permissions}\\nuseUpdatePushStatus{[updatePushStatus, { loading }]}\\nuseHandleFavorite{[handleFavoriteMutation, { loading: favorite_loading }]}\", () => [useUserSelector, useUpdatePushStatus, useHandleFavorite]);\n\nActionButtons.displayName = \"ActionButtons\";\nconst _default = ActionButtons;\nexport default _default;\nconst LinkIcon = styled(ImportOutlined).withConfig({\n  displayName: \"ActionButtons__LinkIcon\",\n  componentId: \"hxkgcm-0\"\n})([\"transform:rotateZ(3.142rad);cursor:pointer;\"]);\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(ActionButtons, \"ActionButtons\", \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Pages/Process/ActionButtons.tsx\");\n  reactHotLoader.register(LinkIcon, \"LinkIcon\", \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Pages/Process/ActionButtons.tsx\");\n  reactHotLoader.register(_default, \"default\", \"/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Pages/Process/ActionButtons.tsx\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/Users/raphael/Documents/Github/FrontSistemadoPerito/src/Pages/Process/ActionButtons.tsx"],"names":["React","Button","message","Popconfirm","Switch","Tooltip","useUserSelector","DeleteOutlined","EditOutlined","StarFilled","ImportOutlined","theme","useUpdatePushStatus","messageError","useHandleFavorite","styled","ActionButtons","props","process","handleDelete","handleEdit","updateProcessPushStatus","updateProcessFavorite","permissions","state","can_change_push","statusImport_key","updatePushStatus","loading","handleFavoriteMutation","favorite_loading","handleChangePushStatus","value","data","success","msg","_id","error","handleFavoriteProcess","console","log","delete","color","colors","red","update","primary","statusProcessMonitoring","favorite","orange","LinkIcon"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Button, message, Popconfirm, Switch, Tooltip } from 'antd'\nimport { useUserSelector } from 'Redux/UserReducer'\nimport { DeleteOutlined, EditOutlined, StarFilled, ImportOutlined } from '@ant-design/icons'\nimport { ProcessType } from './types'\nimport { theme } from 'Styles/theme'\nimport useUpdatePushStatus from './useUpdatePushStatus'\nimport messageError from 'Utils/messageError'\nimport useHandleFavorite from './useHandleFavorite'\nimport styled from 'styled-components'\n\ntype Props = {\n  process: ProcessType,\n  handleDelete: (id: string) => void,\n  handleEdit: (id: string) => void,\n  updateProcessFavorite: (process_id: string, value: boolean) => void,\n  updateProcessPushStatus: (process_id: string, status: boolean) => void\n}\n\nconst ActionButtons: React.FC<Props> = (props) => {\n  const { process, handleDelete, handleEdit, updateProcessPushStatus, updateProcessFavorite } = props\n\n  const permissions = useUserSelector(state => state.permissions)\n  const can_change_push = process.statusImport_key === 'imported'\n  const [updatePushStatus, { loading }] = useUpdatePushStatus()\n  const [handleFavoriteMutation, { loading: favorite_loading }] = useHandleFavorite()\n\n  const handleChangePushStatus = async (value: boolean) => {\n    try {\n      const { data: { success, message: msg } } = await updatePushStatus(process._id, value)\n\n      if (success) {\n        updateProcessPushStatus(process._id, value)\n        return\n      }\n\n      message.error(msg)\n    } catch (error) {\n      messageError('202102071449')\n    }\n  }\n\n  const handleFavoriteProcess = async (value: boolean) => {\n    console.log(value)\n    try {\n      const { data: { success, message: msg } } = await handleFavoriteMutation(process._id, value)\n\n      if (success) {\n        updateProcessFavorite(process._id, value)\n        return\n      }\n\n      message.error(msg)\n    } catch (error) {\n      messageError('202115050159')\n    }\n  }\n\n  return (\n    <div>\n      {permissions?.process.delete && (\n        <Popconfirm\n          title={\n            <>\n              <div>\n                O processo será excluído de todas as tarefas, movimentações financeiras e agendamentos em que\n                está atrelado.\n              </div>\n              <div>Deseja continuar?</div>\n            </>\n          }\n          okText=\"Sim\"\n          cancelText=\"Não\"\n          okType=\"danger\"\n          placement=\"topLeft\"\n          onConfirm={() => handleDelete(process._id)}\n        >\n          <Button\n            type=\"text\"\n            icon={<DeleteOutlined style={{ color: theme.colors.red }}/>}\n          />\n        </Popconfirm>\n      )}\n\n      {permissions?.process.update && (\n        <>\n          <Button\n            type=\"text\"\n            icon={<EditOutlined style={{ color: theme.colors.primary }}/>}\n            onClick={() => handleEdit(process._id)}\n          />\n\n          <Tooltip title=\"Abrir o processo em uma nova aba\">\n            <Button\n              type=\"text\"\n              icon={<LinkIcon style={{ color: theme.colors.primary }}/>}\n              href={`/process/${process._id}`}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            />\n          </Tooltip>\n\n          <Switch\n            disabled={!can_change_push}\n            size=\"small\"\n            checked={process.statusProcessMonitoring}\n            loading={loading}\n            onChange={handleChangePushStatus}\n          />\n\n          <Button\n            type=\"text\"\n            icon={<StarFilled style={{ color: process.favorite ? theme.colors.orange : '#e6e6e6' }}/>}\n            loading={favorite_loading}\n            onClick={() => handleFavoriteProcess(!process.favorite)}\n          />\n        </>\n      )}\n    </div>\n  )\n}\n\nexport default ActionButtons\n\nconst LinkIcon = styled(ImportOutlined)`\n  transform: rotateZ(3.142rad);\n  cursor: pointer;\n`\n"]},"metadata":{},"sourceType":"module"}