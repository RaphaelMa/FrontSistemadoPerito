{"ast":null,"code":"import _regeneratorRuntime from\"/Users/raphael/Documents/Github/FrontSistemadoPerito/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/raphael/Documents/Github/FrontSistemadoPerito/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/raphael/Documents/Github/FrontSistemadoPerito/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectDestructuringEmpty from\"/Users/raphael/Documents/Github/FrontSistemadoPerito/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty\";import React,{forwardRef,useImperativeHandle,useState}from'react';import{Button,Col,Form,message,Modal,Select,Spin}from'antd';import{useUserDispatch}from'Redux/UserReducer';import useGetProfessionals from'./useGetProfessionals';import useSaveWelcome from'./useSaveWelcome';import styled from'styled-components';import balloons from\"./assets/balloons.svg\";var Option=Select.Option;// eslint-disable-next-line no-empty-pattern\nvar WelcomeModal=function WelcomeModal(_ref,ref){_objectDestructuringEmpty(_ref);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),visible=_useState2[0],setVisible=_useState2[1];var dispatch=useUserDispatch();var _Form$useForm=Form.useForm(),_Form$useForm2=_slicedToArray(_Form$useForm,1),form=_Form$useForm2[0];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),professionals=_useState4[0],setProfessionals=_useState4[1];var _useGetProfessionals=useGetProfessionals(),_useGetProfessionals2=_slicedToArray(_useGetProfessionals,2),loading=_useGetProfessionals2[0].loading,getProfessionals=_useGetProfessionals2[1];var _useSaveWelcome=useSaveWelcome(),_useSaveWelcome2=_slicedToArray(_useSaveWelcome,2),saving=_useSaveWelcome2[0],saveWelcome=_useSaveWelcome2[1];var fetchProfessionals=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$getProfessiona,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getProfessionals();case 3:_yield$getProfessiona=_context.sent;data=_yield$getProfessiona.data;if(data===null||data===void 0?void 0:data.length){_context.next=7;break;}return _context.abrupt(\"return\");case 7:setProfessionals(data);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);message.error('Não foi possível carregar a lista de profissionais. Recarregue a página e tente novamente. '+'Se persistir o erro entre em contato conosco pelo código:2010251603');case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function fetchProfessionals(){return _ref2.apply(this,arguments);};}();var open=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:fetchProfessionals();setVisible(true);case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function open(){return _ref3.apply(this,arguments);};}();var close=function close(){return setVisible(false);};var save=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(values){var _yield$saveWelcome,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return saveWelcome(values.professional_id);case 3:_yield$saveWelcome=_context3.sent;data=_yield$saveWelcome.data;if(data===null||data===void 0?void 0:data.success){_context3.next=8;break;}message.error(data.message);return _context3.abrupt(\"return\");case 8:close();dispatch({type:'SET_SHOW_WELCOME_MODAL',payload:false});setTimeout(function(){return message.success('Seja muito Bem Vindo(a)');},500);_context3.next=16;break;case 13:_context3.prev=13;_context3.t0=_context3[\"catch\"](0);message.error('Não foi possível salvar as informações. Recarregue a página e tente novamente. '+'Se persistir o erro entre em contato conosco pelo código:2010252126');case 16:case\"end\":return _context3.stop();}}},_callee3,null,[[0,13]]);}));return function save(_x){return _ref4.apply(this,arguments);};}();var handleSave=function handleSave(){form.validateFields().then(function(values){return save(values);});};useImperativeHandle(ref,function(){return{open:open,close:close};});return/*#__PURE__*/React.createElement(ModalStyled,{visible:visible,closable:false,centered:true,width:500,footer:/*#__PURE__*/React.createElement(Button,{loading:saving,onClick:handleSave,type:\"primary\"},\"Confirmar\")},/*#__PURE__*/React.createElement(Spin,{spinning:loading||saving},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Title,null,\"BEM-VINDO(A) AO SISTEMA DO PERITO!\"),/*#__PURE__*/React.createElement(Balloons,{src:balloons,alt:\"Bal\\xF5es\"}),/*#__PURE__*/React.createElement(TextContainer,null,/*#__PURE__*/React.createElement(Text,null,\"Estamos felizes em ter voc\\xEA aqui e nosso objetivo \"),/*#__PURE__*/React.createElement(Text,null,\"\\xE9 deixar o seu dia a dia ainda mais f\\xE1cil!\")),/*#__PURE__*/React.createElement(Text,null,\"Voc\\xEA ter\\xE1 15 dias para testar gratuitamente nossa\"),/*#__PURE__*/React.createElement(Text,null,\"solu\\xE7\\xE3o, aproveite cada segundo!\"),/*#__PURE__*/React.createElement(Form,{form:form,layout:\"vertical\",style:{marginTop:30,width:'60%'},initialValues:{professional_id:null}},/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(Form.Item,{rules:[{required:true,message:'Campo obrigatório'}],name:\"professional_id\",label:\"Atuando como:\"},/*#__PURE__*/React.createElement(Select,{size:\"middle\",style:{width:'100%'},getPopupContainer:function getPopupContainer(trigger){return trigger.parentElement;},placeholder:\"Informe em que \\xE1rea voc\\xEA atua\"},professionals.map(function(professional){return/*#__PURE__*/React.createElement(Option,{key:professional._id,value:professional._id},professional.description);}))))))));};WelcomeModal.displayName=\"WelcomeModal\";export default forwardRef(WelcomeModal);var ModalStyled=styled(Modal).withConfig({displayName:\"WelcomeModal__ModalStyled\",componentId:\"sc-1dvxssp-0\"})([\".ant-modal-body{padding:24px 24px 0;}.ant-modal-footer{border-top:none;padding:0 0 24px;text-align:center;}\"]);var Container=styled.div.withConfig({displayName:\"WelcomeModal__Container\",componentId:\"sc-1dvxssp-1\"})([\"display:flex;flex-direction:column;justify-content:center;align-items:center;\"]);var Title=styled.h3.withConfig({displayName:\"WelcomeModal__Title\",componentId:\"sc-1dvxssp-2\"})([\"\"]);var Balloons=styled.img.withConfig({displayName:\"WelcomeModal__Balloons\",componentId:\"sc-1dvxssp-3\"})([\"margin:10px 0 15px;width:130px;height:130px;\"]);var TextContainer=styled.div.withConfig({displayName:\"WelcomeModal__TextContainer\",componentId:\"sc-1dvxssp-4\"})([\"display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:20px;\"]);var Text=styled.p.withConfig({displayName:\"WelcomeModal__Text\",componentId:\"sc-1dvxssp-5\"})([\"margin:0 !important;\"]);","map":null,"metadata":{},"sourceType":"module"}