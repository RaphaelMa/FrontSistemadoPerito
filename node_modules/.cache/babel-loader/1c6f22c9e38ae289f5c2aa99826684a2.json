{"ast":null,"code":"import _slicedToArray from\"/Users/raphael/Documents/Github/FrontSistemadoPerito/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useRef,useState,useCallback,useMemo}from'react';import DeadlineModal from'Components/Modals/Deadline/DeadlineModal';import useGetDeadlines from'./useGetDeadlines';import styled from'styled-components';import useColumns from'./useColumns';import Header from'./Header';import Table from'./Table';var DeadLines=function DeadLines(){var _useState=useState({expert_names:[],deadlines:[],situation_descriptions:[],financial_situations:[]}),_useState2=_slicedToArray(_useState,2),filters=_useState2[0],setFilters=_useState2[1];var deadlineModalRef=useRef(null);var _useGetDeadlines=useGetDeadlines(),_useGetDeadlines2=_slicedToArray(_useGetDeadlines,1),_useGetDeadlines2$=_useGetDeadlines2[0],loading=_useGetDeadlines2$.loading,data=_useGetDeadlines2$.data;var filterItems=useCallback(function(){var items=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var expert_names=filters.expert_names,deadlines=filters.deadlines,situation_descriptions=filters.situation_descriptions,financial_situations=filters.financial_situations,processNumber=filters.processNumber;return items.filter(function(item){if(expert_names.length>0&&!expert_names.includes(item.expertName))return false;if(deadlines.length>0&&!deadlines.includes(item.deadeLine_description))return false;if(situation_descriptions.length>0&&!situation_descriptions.includes(item.situation_description))return false;if(financial_situations.length>0&&!financial_situations.includes(item.financialSituation_description))return false;if(processNumber&&!item.processNumber.includes(processNumber))return false;return true;});},[filters]);var openDeadlineModal=useCallback(function(id){var _deadlineModalRef$cur;(_deadlineModalRef$cur=deadlineModalRef.current)===null||_deadlineModalRef$cur===void 0?void 0:_deadlineModalRef$cur.open(id);},[]);var filtered_overdue=useMemo(function(){return filterItems(data===null||data===void 0?void 0:data.arrayOverDue);},[data,filterItems]);console.log('OVERDUE =>',filtered_overdue);var filtered_five_days=useMemo(function(){return filterItems(data===null||data===void 0?void 0:data.arrayFiveDays);},[data,filterItems]);console.log('5 DIAS =>',filtered_five_days);console.log('RETORNO DATA =>',data);var filtered_ten_days=useMemo(function(){return filterItems(data===null||data===void 0?void 0:data.arrayTenDays);},[data,filterItems]);var filtered_fifteen_days=useMemo(function(){return filterItems(data===null||data===void 0?void 0:data.arrayFifteenDays);},[data,filterItems]);var filtered_twenty_days=useMemo(function(){return filterItems(data===null||data===void 0?void 0:data.arrayTwentyDays);},[data,filterItems]);var filtered_done=useMemo(function(){return filterItems(data===null||data===void 0?void 0:data.arrayDone);},[data,filterItems]);var common_columns=useColumns({openDeadlineModal:openDeadlineModal});var done_columns=useColumns({openDeadlineModal:openDeadlineModal,type:'done'});var overdue_columns=useColumns({openDeadlineModal:openDeadlineModal,type:'overdue'});return/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Header,{indicators:data===null||data===void 0?void 0:data.indicators,setFilters:setFilters}),/*#__PURE__*/React.createElement(Table,{loading:loading,title:\"Passou do Prazo de Entrega\",title_color:\"#F00C0C\",data:filtered_overdue,columns:overdue_columns}),/*#__PURE__*/React.createElement(Table,{loading:loading,title:\"Faltam 5 Dias Para o Fim do Prazo\",title_color:\"#eb5353\",data:filtered_five_days,columns:common_columns}),/*#__PURE__*/React.createElement(Table,{loading:loading,title:\"Faltam 10 Dias Para o Fim do Prazo\",title_color:\"#FAAD14\",data:filtered_ten_days,columns:common_columns}),/*#__PURE__*/React.createElement(Table,{loading:loading,title:\"Faltam 15 Dias Para o Fim do Prazo\",title_color:\"#FE9111\",data:filtered_fifteen_days,columns:common_columns}),/*#__PURE__*/React.createElement(Table,{loading:loading,title:\"Faltam 20 Dias Para o Fim do Prazo\",title_color:\"#3CA49E\",data:filtered_twenty_days,columns:common_columns}),/*#__PURE__*/React.createElement(Table,{loading:loading,title:\"Prazos Conclu\\xEDdos\",title_color:\"#3CA49E\",data:filtered_done,columns:done_columns}),/*#__PURE__*/React.createElement(DeadlineModal,{ref:deadlineModalRef}));};DeadLines.displayName=\"DeadLines\";export default DeadLines;var Container=styled.div.withConfig({displayName:\"Deadlines__Container\",componentId:\"vm12ut-0\"})([\"padding:2rem;height:calc(100vh - 5rem);overflow:auto;\"]);","map":null,"metadata":{},"sourceType":"module"}