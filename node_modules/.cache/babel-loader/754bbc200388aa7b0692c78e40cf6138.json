{"ast":null,"code":"import _slicedToArray from\"/Users/raphael/Documents/Github/FrontSistemadoPerito/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"/Users/raphael/Documents/Github/FrontSistemadoPerito/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React,{useEffect,useRef}from'react';import{PlusOutlined}from'@ant-design/icons';import{UnstyledButton}from'Components/SistemaDoPerito';import{Select}from'antd';import{deburr}from'lodash';import useGetJudicialDistrictLevels from'./useGetJudicialDistrictLevels';import JudicialDistrictDrawer from'Components/Drawers/JudicialDistrict/JudicialDistrict';import{useUserSelector}from'Redux/UserReducer';// TODO: Ajustar props\nvar JudicialDistrictLevelInput=function JudicialDistrictLevelInput(_ref){var judicial_district_id=_ref.judicial_district_id,show_create_button=_ref.show_create_button,props=_objectWithoutProperties(_ref,[\"judicial_district_id\",\"show_create_button\"]);var plan_modules=useUserSelector(function(state){var _state$company;return(_state$company=state.company)===null||_state$company===void 0?void 0:_state$company.plan.modules;});var permissions=useUserSelector(function(state){return state.permissions;});var judicialDistrictDrawerRef=useRef(null);var _useGetJudicialDistri=useGetJudicialDistrictLevels(),_useGetJudicialDistri2=_slicedToArray(_useGetJudicialDistri,2),_useGetJudicialDistri3=_useGetJudicialDistri2[0],data=_useGetJudicialDistri3.data,loading=_useGetJudicialDistri3.loading,getJudicialDistrictLevels=_useGetJudicialDistri2[1];useEffect(function(){if(!judicial_district_id)return;getJudicialDistrictLevels({url:\"/judicialdistrictlevel/judicialdistrict=\".concat(judicial_district_id)});// eslint-disable-next-line react-hooks/exhaustive-deps\n},[judicial_district_id]);var onCreateClick=function onCreateClick(){var _judicialDistrictDraw;(_judicialDistrictDraw=judicialDistrictDrawerRef.current)===null||_judicialDistrictDraw===void 0?void 0:_judicialDistrictDraw.open(judicial_district_id);};var afterSave=function afterSave(){getJudicialDistrictLevels({url:\"/judicialdistrictlevel/judicialdistrict=\".concat(judicial_district_id)});};var district_levels=data||[];return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Select,Object.assign({style:{width:'100%'},loading:loading,placeholder:\"Vara\",showSearch:true,\"aria-autocomplete\":\"none\",filterOption:function filterOption(raw_value,option){var value=deburr(raw_value).toLowerCase();var option_value=deburr(option===null||option===void 0?void 0:option.children).toLowerCase();return option_value.indexOf(value)>=0;},dropdownRender:function dropdownRender(menu){return/*#__PURE__*/React.createElement(\"div\",null,menu,show_create_button&&judicial_district_id&&(plan_modules===null||plan_modules===void 0?void 0:plan_modules.Register)&&(permissions===null||permissions===void 0?void 0:permissions.judicialdistrict.update)&&/*#__PURE__*/React.createElement(UnstyledButton,{style:{display:'block',padding:8},className:\"no-decoration\",onClick:onCreateClick},/*#__PURE__*/React.createElement(PlusOutlined,null),\" Nova vara\"));}},props),district_levels.map(function(level){return/*#__PURE__*/React.createElement(Select.Option,{key:level._id,value:level._id},level.description);})),/*#__PURE__*/React.createElement(JudicialDistrictDrawer,{ref:judicialDistrictDrawerRef,afterSave:afterSave}));};export default JudicialDistrictLevelInput;","map":null,"metadata":{},"sourceType":"module"}