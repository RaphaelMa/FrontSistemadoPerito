{"ast":null,"code":"import _regeneratorRuntime from\"/Users/raphael/Documents/Github/FrontSistemadoPerito/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/raphael/Documents/Github/FrontSistemadoPerito/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/raphael/Documents/Github/FrontSistemadoPerito/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useRef}from'react';import PermissionsContainer from'../../../../Components/Permissions/Container';import MenuTop from'../../MenuTop';import{useUserSelector}from'../../../../Redux/UserReducer';import{useParams}from'react-router-dom';import useGetProcessHistory from'./useGetProcessHistory';import messageError from'../../../../Utils/messageError';import HistoryTable from'../../../History/HistoryTable';import styled from'styled-components';var ProcessHistory=function ProcessHistory(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),process_history=_useState2[0],setProcessHistory=_useState2[1];var plan_modules=useUserSelector(function(state){var _state$company;return(_state$company=state.company)===null||_state$company===void 0?void 0:_state$company.plan.modules;});var permissions=useUserSelector(function(state){return state.permissions;});var _useParams=useParams(),id=_useParams.id;var _useGetProcessHistory=useGetProcessHistory(),_useGetProcessHistory2=_slicedToArray(_useGetProcessHistory,2),loading=_useGetProcessHistory2[0].loading,getProcessHistory=_useGetProcessHistory2[1];var loadProcessHistory=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$getProcessHist,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(id){_context.next=2;break;}return _context.abrupt(\"return\");case 2:_context.prev=2;_context.next=5;return getProcessHistory(id);case 5:_yield$getProcessHist=_context.sent;data=_yield$getProcessHist.data;if(data){_context.next=9;break;}return _context.abrupt(\"return\");case 9:// const fake_data = []\n//\n// for(let i=0; i < 100; i++) {\n//   fake_data.push({...data[0], _id: String(data[0]._id + i) })\n// }\n//\n// setProcessHistory(fake_data)\nsetProcessHistory(data);_context.next=16;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](2);messageError('2702211644');console.log(_context.t0);case 16:case\"end\":return _context.stop();}}},_callee,null,[[2,12]]);}));return function loadProcessHistory(){return _ref.apply(this,arguments);};}();useEffect(function(){loadProcessHistory();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);var has_permissions=!!id&&(permissions===null||permissions===void 0?void 0:permissions.plan.update)||!id&&(permissions===null||permissions===void 0?void 0:permissions.process.create);var divRef=useRef(null);return/*#__PURE__*/React.createElement(PermissionsContainer,{has_module:plan_modules===null||plan_modules===void 0?void 0:plan_modules.Process,has_permission:has_permissions},/*#__PURE__*/React.createElement(ContainerStyled,null,/*#__PURE__*/React.createElement(MenuTop,{activePage:\"history\",id:id}),/*#__PURE__*/React.createElement(TableContainer,{ref:divRef},/*#__PURE__*/React.createElement(HistoryTable,{data:process_history,loading:loading,divRef:divRef}))));};ProcessHistory.displayName=\"ProcessHistory\";export default ProcessHistory;var ContainerStyled=styled.div.withConfig({displayName:\"ProcessHistory__ContainerStyled\",componentId:\"sc-1blaujs-0\"})([\"overflow-y:hidden;overflow-x:hidden;padding:2rem;height:calc(100% - 2rem);\"]);var TableContainer=styled.div.withConfig({displayName:\"ProcessHistory__TableContainer\",componentId:\"sc-1blaujs-1\"})([\"display:flex;margin:0;height:100%;\"]);","map":null,"metadata":{},"sourceType":"module"}